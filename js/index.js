"use strict";

window.onload = () => {
  needSoundEvent();
  fastLevelChange();
  radioCheckActive();
  radioOnChange();
  funcSliders();
  showCurrentSphereQ2(document.querySelector('#question1__house'));
  addNavigationToButtons();
  let screenCounter = 0;
  const pages = ['#quiz__preload', '#question1', '#question2', '#question3', '#question4', '#question5', '#question6', '#question7', '#result', '#getOffer'];
  const questions = ['', 'Для какого объекта Вам необходима система видеонаблюдения?', 'Сколько камер Вы планируете установить?', 'Время хранения архива:', 'Дополнительные пожелания к системе видеонаблюдения:', 'Как срочно Вам нужна система?', 'Примерная площадь обекта ', 'Вам нужен готовый комплект или монтаж системы под ключ?']; //функции навигации

  function navigation(direction) {
    if (direction == 'forward') {
      let currentPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 7 ? hide(currentPage.parentElement.parentElement) : hide(currentPage);
      screenCounter++;
      let nextPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 1 ? show(nextPage.parentElement.parentElement, 'grid') : show(nextPage, 'flex');
    } else if ('back') {
      let currentPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 1 ? hide(currentPage.parentElement.parentElement) : hide(currentPage);
      screenCounter--;
      let nextPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 7 ? show(nextPage.parentElement.parentElement, 'grid') : show(nextPage, 'flex');
    }

    if (0 < screenCounter < 8) {
      refreshQuestion();
    }
  } //добавление навигации на кнопки


  function addNavigationToButtons() {
    document.querySelector('.preload__button').onclick = () => navigation('forward');

    document.querySelector('.quiz__button_forward').onclick = () => navigation('forward');

    document.querySelector('.quiz__button_back').onclick = () => navigation('back');
  } //показать/скрыть элемент при навигации


  function hide(elem) {
    elem.style.opacity = 0;
    elem.style.display = 'none';
  }

  function show(elem, dispProperty) {
    elem.style.display = dispProperty;
    elem.style.opacity = 1;
  } //Обновить вопрос


  function refreshQuestion() {
    let question = document.querySelector('.quiz__question-text');
    question.textContent = questions[screenCounter];
  }
}; //радиокнопки Вопрос 1
//проверка радиокнопок на checked Q1 - question 1


function radioCheckActive() {
  let radioItemsQ1 = document.querySelectorAll("input[type='radio']");
  radioItemsQ1.forEach(item => {
    if (item.checked) {
      item.parentElement.classList.add('question1__item_active');
    } else {
      item.parentElement.classList.remove('question1__item_active');
    }
  });
} //добавление ивента по изменению


function radioOnChange() {
  let radioItemsQ1 = document.querySelectorAll('.question1__input');
  radioItemsQ1.forEach(item => {
    item.addEventListener('change', function () {
      let currentRadio = this;
      radioCheckActive();
      resetValues();
      showCurrentSphereQ2(currentRadio);
    });
  });
} //показать во 2 вопросе нужную сферу применения, скрыв ненужное


function showCurrentSphereQ2(input) {
  let currentSphere = input.dataset.choise;
  let camCountersQ2 = document.querySelectorAll('.camera-count__item');
  camCountersQ2.forEach(counter => {
    counter.style.display = 'none';
  });
  let currentCounterQ2 = document.querySelector(".camera-count__".concat(currentSphere));
  currentCounterQ2.style.display = 'flex';
} //сбросить счетчики


function resetValues() {
  //вопрос 2 счетчики камер увести на 0
  let q2 = document.querySelector('.question2');
  let ranges = q2.querySelectorAll('.range__slider');
  ranges.forEach(range => {
    range.value = 0;
    refreshRange(range);
  }); //вопрос 3 сбросить radio на первый вариант

  let q3 = document.querySelector('.question3');
  let radiosQ3 = q3.querySelectorAll('.custom-radio');
  radiosQ3.forEach(radio => {
    resetRadio(radio);
  }); //вопрос 4 сбросить чекбоксы 

  let q4 = document.querySelector('.question4');
  let checkboxesQ4 = q4.querySelectorAll('.custom-check');
  checkboxesQ4.forEach(checkbox => {
    resetCheckBox(checkbox);
  }); //вопрос 5 сбросить радио

  let q5 = document.querySelector('.question5');
  let radiosQ5 = q5.querySelectorAll('.custom-radio');
  radiosQ5.forEach(radio => {
    resetRadio(radio);
    hasOwnAnswer();
  });
} //добавление обработчика на слайдер


function funcSliders() {
  let sliders = document.querySelectorAll('.range__slider');
  sliders.forEach(slider => {
    slider.addEventListener('input', function () {
      refreshRange(this);
    });
  });
} //сброс радио


function resetRadio(elem) {
  elem.checked = false;
} //reset checkbox


function resetCheckBox(elem) {
  elem.checked = false;
} //обновить ползунок


function refreshRange(current) {
  current.nextSibling.innerHTML = current.value;
  let percentValue = current.value / current.max * 100;
  let color = "linear-gradient(90deg, rgba(3,81,145,1) ".concat(percentValue, "%, rgba(128, 128, 128, 0.178) ").concat(percentValue, "%)");
  current.style.background = color;
} //Вопрос 4 нужен звук


function needSoundEvent() {
  let recordCheckbox = document.querySelector('#sound_need');
  recordCheckbox.addEventListener('change', checkNeedSound);
}

function checkNeedSound() {
  let recordCheckbox = document.querySelector('#sound_need');
  let toggleRange = document.querySelector('#doppel__soundrecord');

  if (recordCheckbox.checked) {
    toggleRange.classList.remove('doppel__soundrecord_hidden');
  } else {
    toggleRange.classList.add('doppel__soundrecord_hidden');
  }
} //Вопрос5 свой вариант ответа
//проверить чек у радио свой вариант, если да, то удалить класс скрытия, если нет - добавить


function hasOwnAnswer() {
  let ownAnswerArea = document.querySelector('.fast__ownanswer');
  let hasOwn = document.querySelector('#fast__own');

  if (hasOwn.checked) {
    ownAnswerArea.classList.remove('fast__ownanswer_hidden');
  } else {
    ownAnswerArea.classList.add('fast__ownanswer_hidden');
  }
} //навесить эту функцию на изменение всех ч/б в группе


function fastLevelChange() {
  let radioItems = document.querySelectorAll(".fast__input");
  radioItems.forEach(item => {
    item.addEventListener('change', hasOwnAnswer);
  });
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm9ubG9hZCIsIm5lZWRTb3VuZEV2ZW50IiwiZmFzdExldmVsQ2hhbmdlIiwicmFkaW9DaGVja0FjdGl2ZSIsInJhZGlvT25DaGFuZ2UiLCJmdW5jU2xpZGVycyIsInNob3dDdXJyZW50U3BoZXJlUTIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGROYXZpZ2F0aW9uVG9CdXR0b25zIiwic2NyZWVuQ291bnRlciIsInBhZ2VzIiwicXVlc3Rpb25zIiwibmF2aWdhdGlvbiIsImRpcmVjdGlvbiIsImN1cnJlbnRQYWdlIiwiaGlkZSIsInBhcmVudEVsZW1lbnQiLCJuZXh0UGFnZSIsInNob3ciLCJyZWZyZXNoUXVlc3Rpb24iLCJvbmNsaWNrIiwiZWxlbSIsInN0eWxlIiwib3BhY2l0eSIsImRpc3BsYXkiLCJkaXNwUHJvcGVydHkiLCJxdWVzdGlvbiIsInRleHRDb250ZW50IiwicmFkaW9JdGVtc1ExIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpdGVtIiwiY2hlY2tlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50UmFkaW8iLCJyZXNldFZhbHVlcyIsImlucHV0IiwiY3VycmVudFNwaGVyZSIsImRhdGFzZXQiLCJjaG9pc2UiLCJjYW1Db3VudGVyc1EyIiwiY291bnRlciIsImN1cnJlbnRDb3VudGVyUTIiLCJxMiIsInJhbmdlcyIsInJhbmdlIiwidmFsdWUiLCJyZWZyZXNoUmFuZ2UiLCJxMyIsInJhZGlvc1EzIiwicmFkaW8iLCJyZXNldFJhZGlvIiwicTQiLCJjaGVja2JveGVzUTQiLCJjaGVja2JveCIsInJlc2V0Q2hlY2tCb3giLCJxNSIsInJhZGlvc1E1IiwiaGFzT3duQW5zd2VyIiwic2xpZGVycyIsInNsaWRlciIsImN1cnJlbnQiLCJuZXh0U2libGluZyIsImlubmVySFRNTCIsInBlcmNlbnRWYWx1ZSIsIm1heCIsImNvbG9yIiwiYmFja2dyb3VuZCIsInJlY29yZENoZWNrYm94IiwiY2hlY2tOZWVkU291bmQiLCJ0b2dnbGVSYW5nZSIsIm93bkFuc3dlckFyZWEiLCJoYXNPd24iLCJyYWRpb0l0ZW1zIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE1BQVAsR0FBZ0IsTUFBTTtBQUNsQkMsRUFBQUEsY0FBYztBQUNkQyxFQUFBQSxlQUFlO0FBQ2ZDLEVBQUFBLGdCQUFnQjtBQUNoQkMsRUFBQUEsYUFBYTtBQUNiQyxFQUFBQSxXQUFXO0FBQ1hDLEVBQUFBLG1CQUFtQixDQUFDQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsbUJBQXZCLENBQUQsQ0FBbkI7QUFDQUMsRUFBQUEsc0JBQXNCO0FBQ3RCLE1BQUlDLGFBQWEsR0FBRyxDQUFwQjtBQUNBLFFBQU1DLEtBQUssR0FBRyxDQUNWLGdCQURVLEVBRVYsWUFGVSxFQUdWLFlBSFUsRUFJVixZQUpVLEVBS1YsWUFMVSxFQU1WLFlBTlUsRUFPVixZQVBVLEVBUVYsWUFSVSxFQVNWLFNBVFUsRUFVVixXQVZVLENBQWQ7QUFZQSxRQUFNQyxTQUFTLEdBQUcsQ0FDZCxFQURjLEVBRWQsNERBRmMsRUFHZCx5Q0FIYyxFQUlkLHdCQUpjLEVBS2QscURBTGMsRUFNZCwrQkFOYyxFQU9kLDJCQVBjLEVBUWQseURBUmMsQ0FBbEIsQ0FyQmtCLENBK0JsQjs7QUFDQSxXQUFTQyxVQUFULENBQW9CQyxTQUFwQixFQUE4QjtBQUMxQixRQUFHQSxTQUFTLElBQUksU0FBaEIsRUFBMEI7QUFDdEIsVUFBSUMsV0FBVyxHQUFHUixRQUFRLENBQUNDLGFBQVQsV0FBMEJHLEtBQUssQ0FBQ0QsYUFBRCxDQUEvQixFQUFsQjtBQUNBQSxNQUFBQSxhQUFhLElBQUksQ0FBakIsR0FBbUJNLElBQUksQ0FBQ0QsV0FBVyxDQUFDRSxhQUFaLENBQTBCQSxhQUEzQixDQUF2QixHQUFpRUQsSUFBSSxDQUFDRCxXQUFELENBQXJFO0FBQ0FMLE1BQUFBLGFBQWE7QUFDYixVQUFJUSxRQUFRLEdBQUdYLFFBQVEsQ0FBQ0MsYUFBVCxXQUEwQkcsS0FBSyxDQUFDRCxhQUFELENBQS9CLEVBQWY7QUFDQUEsTUFBQUEsYUFBYSxJQUFJLENBQWpCLEdBQW1CUyxJQUFJLENBQUNELFFBQVEsQ0FBQ0QsYUFBVCxDQUF1QkEsYUFBeEIsRUFBdUMsTUFBdkMsQ0FBdkIsR0FBc0VFLElBQUksQ0FBQ0QsUUFBRCxFQUFXLE1BQVgsQ0FBMUU7QUFFSCxLQVBELE1BUUssSUFBRyxNQUFILEVBQVU7QUFDWCxVQUFJSCxXQUFXLEdBQUdSLFFBQVEsQ0FBQ0MsYUFBVCxXQUEwQkcsS0FBSyxDQUFDRCxhQUFELENBQS9CLEVBQWxCO0FBQ0FBLE1BQUFBLGFBQWEsSUFBSSxDQUFqQixHQUFtQk0sSUFBSSxDQUFDRCxXQUFXLENBQUNFLGFBQVosQ0FBMEJBLGFBQTNCLENBQXZCLEdBQWlFRCxJQUFJLENBQUNELFdBQUQsQ0FBckU7QUFDQUwsTUFBQUEsYUFBYTtBQUNiLFVBQUlRLFFBQVEsR0FBR1gsUUFBUSxDQUFDQyxhQUFULFdBQTBCRyxLQUFLLENBQUNELGFBQUQsQ0FBL0IsRUFBZjtBQUNBQSxNQUFBQSxhQUFhLElBQUksQ0FBakIsR0FBbUJTLElBQUksQ0FBQ0QsUUFBUSxDQUFDRCxhQUFULENBQXVCQSxhQUF4QixFQUF1QyxNQUF2QyxDQUF2QixHQUFzRUUsSUFBSSxDQUFDRCxRQUFELEVBQVcsTUFBWCxDQUExRTtBQUNIOztBQUNELFFBQUcsSUFBSVIsYUFBSixHQUFvQixDQUF2QixFQUF5QjtBQUNyQlUsTUFBQUEsZUFBZTtBQUNsQjtBQUNKLEdBbkRpQixDQXFEbEI7OztBQUNBLFdBQVNYLHNCQUFULEdBQWlDO0FBQzdCRixJQUFBQSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsa0JBQXZCLEVBQTJDYSxPQUEzQyxHQUFxRCxNQUFNUixVQUFVLENBQUMsU0FBRCxDQUFyRTs7QUFDQU4sSUFBQUEsUUFBUSxDQUFDQyxhQUFULENBQXVCLHVCQUF2QixFQUFnRGEsT0FBaEQsR0FBMEQsTUFBTVIsVUFBVSxDQUFDLFNBQUQsQ0FBMUU7O0FBQ0FOLElBQUFBLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixvQkFBdkIsRUFBNkNhLE9BQTdDLEdBQXVELE1BQU1SLFVBQVUsQ0FBQyxNQUFELENBQXZFO0FBQ0gsR0ExRGlCLENBMkRsQjs7O0FBQ0EsV0FBU0csSUFBVCxDQUFjTSxJQUFkLEVBQW1CO0FBQ2ZBLElBQUFBLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxPQUFYLEdBQXFCLENBQXJCO0FBQ0FGLElBQUFBLElBQUksQ0FBQ0MsS0FBTCxDQUFXRSxPQUFYLEdBQXFCLE1BQXJCO0FBQ0g7O0FBQ0QsV0FBU04sSUFBVCxDQUFjRyxJQUFkLEVBQW9CSSxZQUFwQixFQUFpQztBQUM3QkosSUFBQUEsSUFBSSxDQUFDQyxLQUFMLENBQVdFLE9BQVgsR0FBcUJDLFlBQXJCO0FBQ0FKLElBQUFBLElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxPQUFYLEdBQXFCLENBQXJCO0FBQ0gsR0FuRWlCLENBb0VsQjs7O0FBQ0EsV0FBU0osZUFBVCxHQUEwQjtBQUN0QixRQUFJTyxRQUFRLEdBQUdwQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsc0JBQXZCLENBQWY7QUFDQW1CLElBQUFBLFFBQVEsQ0FBQ0MsV0FBVCxHQUF1QmhCLFNBQVMsQ0FBQ0YsYUFBRCxDQUFoQztBQUNIO0FBQ0osQ0F6RUQsQyxDQTJFQTtBQUNBOzs7QUFDQSxTQUFTUCxnQkFBVCxHQUEyQjtBQUN2QixNQUFJMEIsWUFBWSxHQUFHdEIsUUFBUSxDQUFDdUIsZ0JBQVQsdUJBQW5CO0FBQ0FELEVBQUFBLFlBQVksQ0FBQ0UsT0FBYixDQUFxQkMsSUFBSSxJQUFJO0FBQ3pCLFFBQUdBLElBQUksQ0FBQ0MsT0FBUixFQUFnQjtBQUNaRCxNQUFBQSxJQUFJLENBQUNmLGFBQUwsQ0FBbUJpQixTQUFuQixDQUE2QkMsR0FBN0IsQ0FBaUMsd0JBQWpDO0FBQ0gsS0FGRCxNQUdJO0FBQ0FILE1BQUFBLElBQUksQ0FBQ2YsYUFBTCxDQUFtQmlCLFNBQW5CLENBQTZCRSxNQUE3QixDQUFvQyx3QkFBcEM7QUFDSDtBQUNKLEdBUEQ7QUFRSCxDLENBQ0Q7OztBQUNBLFNBQVNoQyxhQUFULEdBQXdCO0FBQ3BCLE1BQUl5QixZQUFZLEdBQUd0QixRQUFRLENBQUN1QixnQkFBVCxDQUEwQixtQkFBMUIsQ0FBbkI7QUFDQUQsRUFBQUEsWUFBWSxDQUFDRSxPQUFiLENBQXFCQyxJQUFJLElBQUk7QUFDekJBLElBQUFBLElBQUksQ0FBQ0ssZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsWUFBVTtBQUN0QyxVQUFJQyxZQUFZLEdBQUcsSUFBbkI7QUFDQW5DLE1BQUFBLGdCQUFnQjtBQUNoQm9DLE1BQUFBLFdBQVc7QUFDWGpDLE1BQUFBLG1CQUFtQixDQUFDZ0MsWUFBRCxDQUFuQjtBQUVILEtBTkQ7QUFPSCxHQVJEO0FBU0gsQyxDQUNEOzs7QUFDQSxTQUFTaEMsbUJBQVQsQ0FBNkJrQyxLQUE3QixFQUFtQztBQUMvQixNQUFJQyxhQUFhLEdBQUdELEtBQUssQ0FBQ0UsT0FBTixDQUFjQyxNQUFsQztBQUNBLE1BQUlDLGFBQWEsR0FBR3JDLFFBQVEsQ0FBQ3VCLGdCQUFULENBQTBCLHFCQUExQixDQUFwQjtBQUNBYyxFQUFBQSxhQUFhLENBQUNiLE9BQWQsQ0FBc0JjLE9BQU8sSUFBSTtBQUM3QkEsSUFBQUEsT0FBTyxDQUFDdEIsS0FBUixDQUFjRSxPQUFkLEdBQXdCLE1BQXhCO0FBQ0gsR0FGRDtBQUdBLE1BQUlxQixnQkFBZ0IsR0FBR3ZDLFFBQVEsQ0FBQ0MsYUFBVCwwQkFBeUNpQyxhQUF6QyxFQUF2QjtBQUNBSyxFQUFBQSxnQkFBZ0IsQ0FBQ3ZCLEtBQWpCLENBQXVCRSxPQUF2QixHQUFpQyxNQUFqQztBQUVILEMsQ0FDRDs7O0FBQ0EsU0FBU2MsV0FBVCxHQUFzQjtBQUNkO0FBQ0EsTUFBSVEsRUFBRSxHQUFHeEMsUUFBUSxDQUFDQyxhQUFULENBQXVCLFlBQXZCLENBQVQ7QUFDQSxNQUFJd0MsTUFBTSxHQUFHRCxFQUFFLENBQUNqQixnQkFBSCxDQUFvQixnQkFBcEIsQ0FBYjtBQUNBa0IsRUFBQUEsTUFBTSxDQUFDakIsT0FBUCxDQUFla0IsS0FBSyxJQUFJO0FBQ3BCQSxJQUFBQSxLQUFLLENBQUNDLEtBQU4sR0FBYyxDQUFkO0FBQ0FDLElBQUFBLFlBQVksQ0FBQ0YsS0FBRCxDQUFaO0FBQ0gsR0FIRCxFQUpjLENBUWQ7O0FBQ0EsTUFBSUcsRUFBRSxHQUFHN0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLFlBQXZCLENBQVQ7QUFDQSxNQUFJNkMsUUFBUSxHQUFHRCxFQUFFLENBQUN0QixnQkFBSCxDQUFvQixlQUFwQixDQUFmO0FBQ0F1QixFQUFBQSxRQUFRLENBQUN0QixPQUFULENBQWlCdUIsS0FBSyxJQUFJO0FBQ3RCQyxJQUFBQSxVQUFVLENBQUNELEtBQUQsQ0FBVjtBQUNILEdBRkQsRUFYYyxDQWNkOztBQUNBLE1BQUlFLEVBQUUsR0FBR2pELFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixZQUF2QixDQUFUO0FBQ0EsTUFBSWlELFlBQVksR0FBR0QsRUFBRSxDQUFDMUIsZ0JBQUgsQ0FBb0IsZUFBcEIsQ0FBbkI7QUFDQTJCLEVBQUFBLFlBQVksQ0FBQzFCLE9BQWIsQ0FBcUIyQixRQUFRLElBQUk7QUFDN0JDLElBQUFBLGFBQWEsQ0FBQ0QsUUFBRCxDQUFiO0FBQ0gsR0FGRCxFQWpCYyxDQW9CZDs7QUFDQSxNQUFJRSxFQUFFLEdBQUdyRCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBVDtBQUNBLE1BQUlxRCxRQUFRLEdBQUdELEVBQUUsQ0FBQzlCLGdCQUFILENBQW9CLGVBQXBCLENBQWY7QUFDQStCLEVBQUFBLFFBQVEsQ0FBQzlCLE9BQVQsQ0FBaUJ1QixLQUFLLElBQUk7QUFDdEJDLElBQUFBLFVBQVUsQ0FBQ0QsS0FBRCxDQUFWO0FBQ0FRLElBQUFBLFlBQVk7QUFDZixHQUhEO0FBS1AsQyxDQUNEOzs7QUFDQSxTQUFTekQsV0FBVCxHQUFzQjtBQUNsQixNQUFJMEQsT0FBTyxHQUFHeEQsUUFBUSxDQUFDdUIsZ0JBQVQsQ0FBMEIsZ0JBQTFCLENBQWQ7QUFDQWlDLEVBQUFBLE9BQU8sQ0FBQ2hDLE9BQVIsQ0FBZ0JpQyxNQUFNLElBQUk7QUFDdEJBLElBQUFBLE1BQU0sQ0FBQzNCLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFlBQVU7QUFDdkNjLE1BQUFBLFlBQVksQ0FBQyxJQUFELENBQVo7QUFDSCxLQUZEO0FBR0gsR0FKRDtBQUtILEMsQ0FDRDs7O0FBQ0EsU0FBU0ksVUFBVCxDQUFvQmpDLElBQXBCLEVBQXlCO0FBQ3JCQSxFQUFBQSxJQUFJLENBQUNXLE9BQUwsR0FBZSxLQUFmO0FBQ0gsQyxDQUNEOzs7QUFDQSxTQUFTMEIsYUFBVCxDQUF1QnJDLElBQXZCLEVBQTRCO0FBQ3hCQSxFQUFBQSxJQUFJLENBQUNXLE9BQUwsR0FBZSxLQUFmO0FBQ0gsQyxDQUNEOzs7QUFDQSxTQUFTa0IsWUFBVCxDQUFzQmMsT0FBdEIsRUFBOEI7QUFDMUJBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixDQUFvQkMsU0FBcEIsR0FBZ0NGLE9BQU8sQ0FBQ2YsS0FBeEM7QUFDQSxNQUFJa0IsWUFBWSxHQUFJSCxPQUFPLENBQUNmLEtBQVIsR0FBY2UsT0FBTyxDQUFDSSxHQUF2QixHQUE0QixHQUEvQztBQUNBLE1BQUlDLEtBQUsscURBQThDRixZQUE5QywyQ0FBMkZBLFlBQTNGLE9BQVQ7QUFDQUgsRUFBQUEsT0FBTyxDQUFDMUMsS0FBUixDQUFjZ0QsVUFBZCxHQUEyQkQsS0FBM0I7QUFDSCxDLENBQ0Q7OztBQUNBLFNBQVNyRSxjQUFULEdBQXlCO0FBQ3JCLE1BQUl1RSxjQUFjLEdBQUdqRSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsYUFBdkIsQ0FBckI7QUFDQWdFLEVBQUFBLGNBQWMsQ0FBQ25DLGdCQUFmLENBQWdDLFFBQWhDLEVBQTBDb0MsY0FBMUM7QUFDSDs7QUFDRCxTQUFTQSxjQUFULEdBQXlCO0FBQ3JCLE1BQUlELGNBQWMsR0FBR2pFLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixhQUF2QixDQUFyQjtBQUNBLE1BQUlrRSxXQUFXLEdBQUduRSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsc0JBQXZCLENBQWxCOztBQUNBLE1BQUdnRSxjQUFjLENBQUN2QyxPQUFsQixFQUEwQjtBQUN0QnlDLElBQUFBLFdBQVcsQ0FBQ3hDLFNBQVosQ0FBc0JFLE1BQXRCLENBQTZCLDRCQUE3QjtBQUNILEdBRkQsTUFHSTtBQUNBc0MsSUFBQUEsV0FBVyxDQUFDeEMsU0FBWixDQUFzQkMsR0FBdEIsQ0FBMEIsNEJBQTFCO0FBQ0g7QUFDSixDLENBQ0Q7QUFDSTs7O0FBQ0EsU0FBUzJCLFlBQVQsR0FBdUI7QUFDbkIsTUFBSWEsYUFBYSxHQUFHcEUsUUFBUSxDQUFDQyxhQUFULENBQXVCLGtCQUF2QixDQUFwQjtBQUNBLE1BQUlvRSxNQUFNLEdBQUdyRSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBYjs7QUFDQSxNQUFHb0UsTUFBTSxDQUFDM0MsT0FBVixFQUFrQjtBQUNkMEMsSUFBQUEsYUFBYSxDQUFDekMsU0FBZCxDQUF3QkUsTUFBeEIsQ0FBK0Isd0JBQS9CO0FBQ0gsR0FGRCxNQUdJO0FBQ0F1QyxJQUFBQSxhQUFhLENBQUN6QyxTQUFkLENBQXdCQyxHQUF4QixDQUE0Qix3QkFBNUI7QUFDSDtBQUNKLEMsQ0FDRDs7O0FBQ0EsU0FBU2pDLGVBQVQsR0FBMEI7QUFDdEIsTUFBSTJFLFVBQVUsR0FBR3RFLFFBQVEsQ0FBQ3VCLGdCQUFULGdCQUFqQjtBQUNBK0MsRUFBQUEsVUFBVSxDQUFDOUMsT0FBWCxDQUFtQkMsSUFBSSxJQUFJO0FBQ3ZCQSxJQUFBQSxJQUFJLENBQUNLLGdCQUFMLENBQXNCLFFBQXRCLEVBQWdDeUIsWUFBaEM7QUFDSCxHQUZEO0FBR0giLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgbmVlZFNvdW5kRXZlbnQoKTtcclxuICAgIGZhc3RMZXZlbENoYW5nZSgpO1xyXG4gICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgcmFkaW9PbkNoYW5nZSgpO1xyXG4gICAgZnVuY1NsaWRlcnMoKTtcclxuICAgIHNob3dDdXJyZW50U3BoZXJlUTIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3F1ZXN0aW9uMV9faG91c2UnKSk7XHJcbiAgICBhZGROYXZpZ2F0aW9uVG9CdXR0b25zKClcclxuICAgIGxldCBzY3JlZW5Db3VudGVyID0gMDtcclxuICAgIGNvbnN0IHBhZ2VzID0gW1xyXG4gICAgICAgICcjcXVpel9fcHJlbG9hZCcsXHJcbiAgICAgICAgJyNxdWVzdGlvbjEnLFxyXG4gICAgICAgICcjcXVlc3Rpb24yJyxcclxuICAgICAgICAnI3F1ZXN0aW9uMycsXHJcbiAgICAgICAgJyNxdWVzdGlvbjQnLFxyXG4gICAgICAgICcjcXVlc3Rpb241JyxcclxuICAgICAgICAnI3F1ZXN0aW9uNicsXHJcbiAgICAgICAgJyNxdWVzdGlvbjcnLFxyXG4gICAgICAgICcjcmVzdWx0JyxcclxuICAgICAgICAnI2dldE9mZmVyJ1xyXG4gICAgXTtcclxuICAgIGNvbnN0IHF1ZXN0aW9ucyA9IFtcclxuICAgICAgICAnJyxcclxuICAgICAgICAn0JTQu9GPINC60LDQutC+0LPQviDQvtCx0YrQtdC60YLQsCDQktCw0Lwg0L3QtdC+0LHRhdC+0LTQuNC80LAg0YHQuNGB0YLQtdC80LAg0LLQuNC00LXQvtC90LDQsdC70Y7QtNC10L3QuNGPPycsXHJcbiAgICAgICAgJ9Ch0LrQvtC70YzQutC+INC60LDQvNC10YAg0JLRiyDQv9C70LDQvdC40YDRg9C10YLQtSDRg9GB0YLQsNC90L7QstC40YLRjD8nLFxyXG4gICAgICAgICfQktGA0LXQvNGPINGF0YDQsNC90LXQvdC40Y8g0LDRgNGF0LjQstCwOicsXHJcbiAgICAgICAgJ9CU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0L/QvtC20LXQu9Cw0L3QuNGPINC6INGB0LjRgdGC0LXQvNC1INCy0LjQtNC10L7QvdCw0LHQu9GO0LTQtdC90LjRjzonLFxyXG4gICAgICAgICfQmtCw0Log0YHRgNC+0YfQvdC+INCS0LDQvCDQvdGD0LbQvdCwINGB0LjRgdGC0LXQvNCwPycsXHJcbiAgICAgICAgJ9Cf0YDQuNC80LXRgNC90LDRjyDQv9C70L7RidCw0LTRjCDQvtCx0LXQutGC0LAgJyxcclxuICAgICAgICAn0JLQsNC8INC90YPQttC10L0g0LPQvtGC0L7QstGL0Lkg0LrQvtC80L/Qu9C10LrRgiDQuNC70Lgg0LzQvtC90YLQsNC2INGB0LjRgdGC0LXQvNGLINC/0L7QtCDQutC70Y7Rhz8nXHJcbiAgICBdO1xyXG4gICAgLy/RhNGD0L3QutGG0LjQuCDQvdCw0LLQuNCz0LDRhtC40LhcclxuICAgIGZ1bmN0aW9uIG5hdmlnYXRpb24oZGlyZWN0aW9uKXtcclxuICAgICAgICBpZihkaXJlY3Rpb24gPT0gJ2ZvcndhcmQnKXtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSA3P2hpZGUoY3VycmVudFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTpoaWRlKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlcisrO1xyXG4gICAgICAgICAgICBsZXQgbmV4dFBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BhZ2VzW3NjcmVlbkNvdW50ZXJdfWApO1xyXG4gICAgICAgICAgICBzY3JlZW5Db3VudGVyID09IDE/c2hvdyhuZXh0UGFnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQsICdncmlkJyk6c2hvdyhuZXh0UGFnZSwgJ2ZsZXgnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoJ2JhY2snKXtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSAxP2hpZGUoY3VycmVudFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KTpoaWRlKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlci0tO1xyXG4gICAgICAgICAgICBsZXQgbmV4dFBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BhZ2VzW3NjcmVlbkNvdW50ZXJdfWApO1xyXG4gICAgICAgICAgICBzY3JlZW5Db3VudGVyID09IDc/c2hvdyhuZXh0UGFnZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQsICdncmlkJyk6c2hvdyhuZXh0UGFnZSwgJ2ZsZXgnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoMCA8IHNjcmVlbkNvdW50ZXIgPCA4KXtcclxuICAgICAgICAgICAgcmVmcmVzaFF1ZXN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0L3QsNCy0LjQs9Cw0YbQuNC4INC90LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBhZGROYXZpZ2F0aW9uVG9CdXR0b25zKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRfX2J1dHRvbicpLm9uY2xpY2sgPSAoKSA9PiBuYXZpZ2F0aW9uKCdmb3J3YXJkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJykub25jbGljayA9ICgpID0+IG5hdmlnYXRpb24oJ2ZvcndhcmQnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVpel9fYnV0dG9uX2JhY2snKS5vbmNsaWNrID0gKCkgPT4gbmF2aWdhdGlvbignYmFjaycpO1xyXG4gICAgfVxyXG4gICAgLy/Qv9C+0LrQsNC30LDRgtGML9GB0LrRgNGL0YLRjCDRjdC70LXQvNC10L3RgiDQv9GA0Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBoaWRlKGVsZW0pe1xyXG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvdyhlbGVtLCBkaXNwUHJvcGVydHkpe1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IGRpc3BQcm9wZXJ0eTtcclxuICAgICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgfSAgICBcclxuICAgIC8v0J7QsdC90L7QstC40YLRjCDQstC+0L/RgNC+0YFcclxuICAgIGZ1bmN0aW9uIHJlZnJlc2hRdWVzdGlvbigpe1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbc2NyZWVuQ291bnRlcl07XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v0YDQsNC00LjQvtC60L3QvtC/0LrQuCDQktC+0L/RgNC+0YEgMVxyXG4vL9C/0YDQvtCy0LXRgNC60LAg0YDQsNC00LjQvtC60L3QvtC/0L7QuiDQvdCwIGNoZWNrZWQgUTEgLSBxdWVzdGlvbiAxXHJcbmZ1bmN0aW9uIHJhZGlvQ2hlY2tBY3RpdmUoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFt0eXBlPSdyYWRpbyddYCk7XHJcbiAgICByYWRpb0l0ZW1zUTEuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZihpdGVtLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0LjQstC10L3RgtCwINC/0L4g0LjQt9C80LXQvdC10L3QuNGOXHJcbmZ1bmN0aW9uIHJhZGlvT25DaGFuZ2UoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24xX19pbnB1dCcpO1xyXG4gICAgcmFkaW9JdGVtc1ExLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFJhZGlvID0gdGhpcztcclxuICAgICAgICAgICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICByZXNldFZhbHVlcygpO1xyXG4gICAgICAgICAgICBzaG93Q3VycmVudFNwaGVyZVEyKGN1cnJlbnRSYWRpbyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLy/Qv9C+0LrQsNC30LDRgtGMINCy0L4gMiDQstC+0L/RgNC+0YHQtSDQvdGD0LbQvdGD0Y4g0YHRhNC10YDRgyDQv9GA0LjQvNC10L3QtdC90LjRjywg0YHQutGA0YvQsiDQvdC10L3Rg9C20L3QvtC1XHJcbmZ1bmN0aW9uIHNob3dDdXJyZW50U3BoZXJlUTIoaW5wdXQpe1xyXG4gICAgbGV0IGN1cnJlbnRTcGhlcmUgPSBpbnB1dC5kYXRhc2V0LmNob2lzZTtcclxuICAgIGxldCBjYW1Db3VudGVyc1EyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbWVyYS1jb3VudF9faXRlbScpO1xyXG4gICAgY2FtQ291bnRlcnNRMi5mb3JFYWNoKGNvdW50ZXIgPT4ge1xyXG4gICAgICAgIGNvdW50ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0pXHJcbiAgICBsZXQgY3VycmVudENvdW50ZXJRMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jYW1lcmEtY291bnRfXyR7Y3VycmVudFNwaGVyZX1gKTtcclxuICAgIGN1cnJlbnRDb3VudGVyUTIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIFxyXG59XHJcbi8v0YHQsdGA0L7RgdC40YLRjCDRgdGH0LXRgtGH0LjQutC4XHJcbmZ1bmN0aW9uIHJlc2V0VmFsdWVzKCl7XHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgMiDRgdGH0LXRgtGH0LjQutC4INC60LDQvNC10YAg0YPQstC10YHRgtC4INC90LAgMFxyXG4gICAgICAgIGxldCBxMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjInKTtcclxuICAgICAgICBsZXQgcmFuZ2VzID0gcTIucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHJhbmdlLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHJhbmdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDMg0YHQsdGA0L7RgdC40YLRjCByYWRpbyDQvdCwINC/0LXRgNCy0YvQuSDQstCw0YDQuNCw0L3RglxyXG4gICAgICAgIGxldCBxMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjMnKTtcclxuICAgICAgICBsZXQgcmFkaW9zUTMgPSBxMy5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgcmFkaW9zUTMuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgIHJlc2V0UmFkaW8ocmFkaW8pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgNCDRgdCx0YDQvtGB0LjRgtGMINGH0LXQutCx0L7QutGB0YsgXHJcbiAgICAgICAgbGV0IHE0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNCcpO1xyXG4gICAgICAgIGxldCBjaGVja2JveGVzUTQgPSBxNC5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLWNoZWNrJyk7XHJcbiAgICAgICAgY2hlY2tib3hlc1E0LmZvckVhY2goY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICByZXNldENoZWNrQm94KGNoZWNrYm94KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDUg0YHQsdGA0L7RgdC40YLRjCDRgNCw0LTQuNC+XHJcbiAgICAgICAgbGV0IHE1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNScpO1xyXG4gICAgICAgIGxldCByYWRpb3NRNSA9IHE1LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tcmFkaW8nKTtcclxuICAgICAgICByYWRpb3NRNS5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgcmVzZXRSYWRpbyhyYWRpbyk7XHJcbiAgICAgICAgICAgIGhhc093bkFuc3dlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbn1cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINC90LAg0YHQu9Cw0LnQtNC10YBcclxuZnVuY3Rpb24gZnVuY1NsaWRlcnMoKXtcclxuICAgIGxldCBzbGlkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgIHNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hSYW5nZSh0aGlzKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG4vL9GB0LHRgNC+0YEg0YDQsNC00LjQvlxyXG5mdW5jdGlvbiByZXNldFJhZGlvKGVsZW0pe1xyXG4gICAgZWxlbS5jaGVja2VkID0gZmFsc2U7XHJcbn1cclxuLy9yZXNldCBjaGVja2JveFxyXG5mdW5jdGlvbiByZXNldENoZWNrQm94KGVsZW0pe1xyXG4gICAgZWxlbS5jaGVja2VkID0gZmFsc2U7XHJcbn1cclxuLy/QvtCx0L3QvtCy0LjRgtGMINC/0L7Qu9C30YPQvdC+0LpcclxuZnVuY3Rpb24gcmVmcmVzaFJhbmdlKGN1cnJlbnQpe1xyXG4gICAgY3VycmVudC5uZXh0U2libGluZy5pbm5lckhUTUwgPSBjdXJyZW50LnZhbHVlO1xyXG4gICAgbGV0IHBlcmNlbnRWYWx1ZSA9IChjdXJyZW50LnZhbHVlL2N1cnJlbnQubWF4KSoxMDA7XHJcbiAgICBsZXQgY29sb3IgPSBgbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDMsODEsMTQ1LDEpICR7cGVyY2VudFZhbHVlfSUsIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4xNzgpICR7cGVyY2VudFZhbHVlfSUpYFxyXG4gICAgY3VycmVudC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XHJcbn1cclxuLy/QktC+0L/RgNC+0YEgNCDQvdGD0LbQtdC9INC30LLRg9C6XHJcbmZ1bmN0aW9uIG5lZWRTb3VuZEV2ZW50KCl7XHJcbiAgICBsZXQgcmVjb3JkQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc291bmRfbmVlZCcpO1xyXG4gICAgcmVjb3JkQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hlY2tOZWVkU291bmQpXHJcbn1cclxuZnVuY3Rpb24gY2hlY2tOZWVkU291bmQoKXtcclxuICAgIGxldCByZWNvcmRDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkJyk7XHJcbiAgICBsZXQgdG9nZ2xlUmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG9wcGVsX19zb3VuZHJlY29yZCcpO1xyXG4gICAgaWYocmVjb3JkQ2hlY2tib3guY2hlY2tlZCl7XHJcbiAgICAgICAgdG9nZ2xlUmFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZG9wcGVsX19zb3VuZHJlY29yZF9oaWRkZW4nKTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgdG9nZ2xlUmFuZ2UuY2xhc3NMaXN0LmFkZCgnZG9wcGVsX19zb3VuZHJlY29yZF9oaWRkZW4nKTtcclxuICAgIH1cclxufVxyXG4vL9CS0L7Qv9GA0L7RgTUg0YHQstC+0Lkg0LLQsNGA0LjQsNC90YIg0L7RgtCy0LXRgtCwXHJcbiAgICAvL9C/0YDQvtCy0LXRgNC40YLRjCDRh9C10Log0YMg0YDQsNC00LjQviDRgdCy0L7QuSDQstCw0YDQuNCw0L3Rgiwg0LXRgdC70Lgg0LTQsCwg0YLQviDRg9C00LDQu9C40YLRjCDQutC70LDRgdGBINGB0LrRgNGL0YLQuNGPLCDQtdGB0LvQuCDQvdC10YIgLSDQtNC+0LHQsNCy0LjRgtGMXHJcbiAgICBmdW5jdGlvbiBoYXNPd25BbnN3ZXIoKXtcclxuICAgICAgICBsZXQgb3duQW5zd2VyQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYXN0X19vd25hbnN3ZXInKTtcclxuICAgICAgICBsZXQgaGFzT3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zhc3RfX293bicpO1xyXG4gICAgICAgIGlmKGhhc093bi5jaGVja2VkKXtcclxuICAgICAgICAgICAgb3duQW5zd2VyQXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdmYXN0X19vd25hbnN3ZXJfaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIG93bkFuc3dlckFyZWEuY2xhc3NMaXN0LmFkZCgnZmFzdF9fb3duYW5zd2VyX2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v0L3QsNCy0LXRgdC40YLRjCDRjdGC0YMg0YTRg9C90LrRhtC40Y4g0L3QsCDQuNC30LzQtdC90LXQvdC40LUg0LLRgdC10YUg0Ycv0LEg0LIg0LPRgNGD0L/Qv9C1XHJcbiAgICBmdW5jdGlvbiBmYXN0TGV2ZWxDaGFuZ2UoKXtcclxuICAgICAgICBsZXQgcmFkaW9JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5mYXN0X19pbnB1dGApO1xyXG4gICAgICAgIHJhZGlvSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYXNPd25BbnN3ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sImZpbGUiOiJpbmRleC5qcyJ9
