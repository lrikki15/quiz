"use strict";

window.onload = () => {
  let screenCounter = 0;
  const pages = ['#quiz__preload', '#question1', '#question2', '#question3', '#question4', '#question5', '#question6', '#question7', '#result', '#getOffer'];
  const questions = ['', 'Для какого объекта Вам необходима система видеонаблюдения?', 'Сколько камер Вы планируете установить?', 'Время хранения архива:', 'Дополнительные пожелания к системе видеонаблюдения:', 'Как срочно Вам нужна система?', 'Примерная площадь обекта ', 'Вам нужен готовый комплект или монтаж системы под ключ?'];
  needSoundEvent();
  fastLevelChange();
  radioCheckActive();
  radioOnChange();
  funcSliders();
  showCurrentSphereQ2(document.querySelector('#question1__house'));
  addNavigationToButtons();
  addEventOnAllInputs(); //функции навигации

  function navigation(direction) {
    if (direction == 'forward') {
      let currentPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 7 ? hide(currentPage.parentElement.parentElement) : hide(currentPage);
      screenCounter++;
      let nextPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 1 ? show(nextPage.parentElement.parentElement, 'grid') : show(nextPage, 'flex');
    } else if ('back') {
      let currentPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 1 ? hide(currentPage.parentElement.parentElement) : hide(currentPage);
      screenCounter--;
      let nextPage = document.querySelector("".concat(pages[screenCounter]));
      screenCounter == 7 ? show(nextPage.parentElement.parentElement, 'grid') : show(nextPage, 'flex');
    }

    if (0 < screenCounter < 8) {
      refreshQuestion();
      checkButton();
    }
  } //добавление навигации на кнопки


  function addNavigationToButtons() {
    document.querySelector('.preload__button').onclick = () => navigation('forward');

    document.querySelector('.quiz__button_forward').onclick = () => navigation('forward');

    document.querySelector('.quiz__button_back').onclick = () => navigation('back');
  } //показать/скрыть элемент при навигации


  function hide(elem) {
    elem.style.opacity = 0;
    elem.style.display = 'none';
  }

  function show(elem, dispProperty) {
    elem.style.display = dispProperty;
    elem.style.opacity = 1;
  } //Обновить вопрос


  function refreshQuestion() {
    let question = document.querySelector('.quiz__question-text');
    question.textContent = questions[screenCounter];
  } //блокировка/разблокировка кнопки


  function checkButton() {
    let buttonForward = document.querySelector('.quiz__button_forward');

    if (!checkIsChosen(screenCounter)) {
      buttonForward.disabled = true;
    } else {
      buttonForward.disabled = false;
    }
  } //проверить выбран ли вариант на текущей странице


  function checkIsChosen(screenCounter) {
    let isTrue = 0;
    let currentPage = document.querySelector("".concat(pages[screenCounter]));

    switch (screenCounter) {
      case 1:
        let radiosQ1 = currentPage.querySelectorAll('.question1__input');
        radiosQ1.forEach(radio => {
          if (radio.checked) {
            isTrue++;
          }
        });
        break;

      case 2:
        let rangesQ2 = currentPage.querySelectorAll('.range__slider');
        rangesQ2.forEach(range => {
          if (range.value != 0) {
            isTrue++;
          }
        });
        break;

      case 3:
        let radiosQ3 = currentPage.querySelectorAll('.custom-radio');
        radiosQ3.forEach(radio => {
          if (radio.checked) {
            isTrue++;
          }
        });
        break;

      case 4:
        let soundNeedInput = currentPage.querySelector('#sound_need_range');
        let reserveNeed = currentPage.querySelector('#reserve_need');
        let internetNeed = currentPage.querySelector('#internet_need');
        let soundNeed = currentPage.querySelector('#sound_need');

        if (internetNeed.checked && !reserveNeed.checked && !soundNeed.checked) {
          isTrue++;
        }

        if (!internetNeed.checked && reserveNeed.checked && !soundNeed.checked) {
          isTrue++;
        }

        if (internetNeed.checked && reserveNeed.checked && !soundNeed.checked) {
          isTrue++;
        }

        if (internetNeed.checked && !reserveNeed.checked && soundNeed.checked && soundNeedInput.value != 0) {
          isTrue++;
        }

        if (!internetNeed.checked && reserveNeed.checked && soundNeed.checked && soundNeedInput.value != 0) {
          isTrue++;
        }

        if (internetNeed.checked && reserveNeed.checked && soundNeed.checked && soundNeedInput.value != 0) {
          isTrue++;
        }

        if (!internetNeed.checked && !reserveNeed.checked && soundNeed.checked && soundNeedInput.value != 0) {
          isTrue++;
        }

        break;

      case 5:
        let radiosQ5 = currentPage.querySelectorAll('.custom-radio');
        radiosQ5.forEach(radio => {
          if (radio.checked) {
            isTrue++;
          }
        });
        break;

      case 6:
        let inputsQ6 = currentPage.querySelectorAll('input');
        inputsQ6.forEach(input => {
          if (input.value != 0) {
            isTrue++;
          }
        });
        break;

      case 7:
        let radiosQ7 = currentPage.querySelectorAll('.complectation__input');
        radiosQ7.forEach(radio => {
          if (radio.checked) {
            isTrue++;
          }
        });
        break;
    }

    return isTrue;
  } //радиокнопки Вопрос 1
  //проверка радиокнопок на checked Q1 - question 1


  function radioCheckActive() {
    let radioItemsQ1 = document.querySelectorAll("input[type='radio']");
    radioItemsQ1.forEach(item => {
      if (item.checked) {
        item.parentElement.classList.add('question1__item_active');
      } else {
        item.parentElement.classList.remove('question1__item_active');
      }
    });
  } //добавление ивента по изменению радио на 1 странице


  function radioOnChange() {
    let radioItemsQ1 = document.querySelectorAll('.question1__input');
    radioItemsQ1.forEach(item => {
      item.addEventListener('change', function () {
        let currentRadio = this;
        radioCheckActive();
        resetValues();
        showCurrentSphereQ2(currentRadio);
      });
    });
  } //показать во 2 вопросе нужную сферу применения, скрыв ненужное


  function showCurrentSphereQ2(input) {
    let currentSphere = input.dataset.choise;
    let camCountersQ2 = document.querySelectorAll('.camera-count__item');
    camCountersQ2.forEach(counter => {
      counter.style.display = 'none';
    });
    let currentCounterQ2 = document.querySelector(".camera-count__".concat(currentSphere));
    currentCounterQ2.style.display = 'flex';
  } //сбросить счетчики


  function resetValues() {
    //вопрос 2 счетчики камер увести на 0
    let q2 = document.querySelector('.question2');
    let ranges = q2.querySelectorAll('.range__slider');
    ranges.forEach(range => {
      range.value = 0;
      refreshRange(range);
    }); //вопрос 3 сбросить radio на первый вариант

    let q3 = document.querySelector('.question3');
    let radiosQ3 = q3.querySelectorAll('.custom-radio');
    radiosQ3.forEach(radio => {
      resetRadio(radio);
    }); //вопрос 4 сбросить чекбоксы 

    let q4 = document.querySelector('.question4');
    let checkboxesQ4 = q4.querySelectorAll('.custom-check');
    checkboxesQ4.forEach(checkbox => {
      resetCheckBox(checkbox);
    }); //вопрос 5 сбросить радио

    let q5 = document.querySelector('.question5');
    let radiosQ5 = q5.querySelectorAll('.custom-radio');
    radiosQ5.forEach(radio => {
      resetRadio(radio);
      hasOwnAnswer();
    });
  } //добавление обработчика на слайдер


  function funcSliders() {
    let sliders = document.querySelectorAll('.range__slider');
    sliders.forEach(slider => {
      slider.addEventListener('input', function () {
        refreshRange(this);
        checkButton();
      });
    });
  } //сброс радио


  function resetRadio(elem) {
    elem.checked = false;
  } //reset checkbox


  function resetCheckBox(elem) {
    elem.checked = false;
  } //обновить ползунок


  function refreshRange(current) {
    current.nextSibling.innerHTML = current.value;
    let percentValue = current.value / current.max * 100;
    let color = "linear-gradient(90deg, rgba(3,81,145,1) ".concat(percentValue, "%, rgba(128, 128, 128, 0.178) ").concat(percentValue, "%)");
    current.style.background = color;
  } //Вопрос 4 нужен звук


  function needSoundEvent() {
    let recordCheckbox = document.querySelector('#sound_need');
    recordCheckbox.addEventListener('change', checkNeedSound);
  }

  function checkNeedSound() {
    let recordCheckbox = document.querySelector('#sound_need');
    let toggleRange = document.querySelector('#doppel__soundrecord');

    if (recordCheckbox.checked) {
      toggleRange.classList.remove('doppel__soundrecord_hidden');
    } else {
      toggleRange.classList.add('doppel__soundrecord_hidden');
    }
  } //Вопрос5 свой вариант ответа
  //проверить чек у радио свой вариант, если да, то удалить класс скрытия, если нет - добавить


  function hasOwnAnswer() {
    let ownAnswerArea = document.querySelector('.fast__ownanswer');
    let hasOwn = document.querySelector('#fast__own');

    if (hasOwn.checked) {
      ownAnswerArea.classList.remove('fast__ownanswer_hidden');
    } else {
      ownAnswerArea.classList.add('fast__ownanswer_hidden');
    }
  } //навесить эту функцию на изменение всех ч/б в группе


  function fastLevelChange() {
    let radioItems = document.querySelectorAll(".fast__input");
    radioItems.forEach(item => {
      item.addEventListener('change', hasOwnAnswer);
    });
  } //общий ивент на все инпуты вопросов checkButton() - проверить, 
  //есть ли выбранные и введенные значения и если есть,
  //и если есть - разблокировать кнопку
  //ищем через родителя .quiz__question-body, чтоб не зацепить страницу с формой


  function addEventOnAllInputs() {
    let quizBody = document.querySelector('.quiz__question-body ');
    let allRadios = quizBody.querySelectorAll('input[type="radio"]');
    allRadios.forEach(item => {
      item.addEventListener('change', () => checkButton());
    });
    let allRanges = quizBody.querySelectorAll('input[type="range"]');
    allRanges.forEach(item => {
      item.addEventListener('input', () => checkButton());
    });
    let allCheckboxes = quizBody.querySelectorAll('input[type="checkbox"]');
    allCheckboxes.forEach(item => {
      item.addEventListener('change', () => checkButton());
    });
  }
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm9ubG9hZCIsInNjcmVlbkNvdW50ZXIiLCJwYWdlcyIsInF1ZXN0aW9ucyIsIm5lZWRTb3VuZEV2ZW50IiwiZmFzdExldmVsQ2hhbmdlIiwicmFkaW9DaGVja0FjdGl2ZSIsInJhZGlvT25DaGFuZ2UiLCJmdW5jU2xpZGVycyIsInNob3dDdXJyZW50U3BoZXJlUTIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGROYXZpZ2F0aW9uVG9CdXR0b25zIiwiYWRkRXZlbnRPbkFsbElucHV0cyIsIm5hdmlnYXRpb24iLCJkaXJlY3Rpb24iLCJjdXJyZW50UGFnZSIsImhpZGUiLCJwYXJlbnRFbGVtZW50IiwibmV4dFBhZ2UiLCJzaG93IiwicmVmcmVzaFF1ZXN0aW9uIiwiY2hlY2tCdXR0b24iLCJvbmNsaWNrIiwiZWxlbSIsInN0eWxlIiwib3BhY2l0eSIsImRpc3BsYXkiLCJkaXNwUHJvcGVydHkiLCJxdWVzdGlvbiIsInRleHRDb250ZW50IiwiYnV0dG9uRm9yd2FyZCIsImNoZWNrSXNDaG9zZW4iLCJkaXNhYmxlZCIsImlzVHJ1ZSIsInJhZGlvc1ExIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJyYWRpbyIsImNoZWNrZWQiLCJyYW5nZXNRMiIsInJhbmdlIiwidmFsdWUiLCJyYWRpb3NRMyIsInNvdW5kTmVlZElucHV0IiwicmVzZXJ2ZU5lZWQiLCJpbnRlcm5ldE5lZWQiLCJzb3VuZE5lZWQiLCJyYWRpb3NRNSIsImlucHV0c1E2IiwiaW5wdXQiLCJyYWRpb3NRNyIsInJhZGlvSXRlbXNRMSIsIml0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudFJhZGlvIiwicmVzZXRWYWx1ZXMiLCJjdXJyZW50U3BoZXJlIiwiZGF0YXNldCIsImNob2lzZSIsImNhbUNvdW50ZXJzUTIiLCJjb3VudGVyIiwiY3VycmVudENvdW50ZXJRMiIsInEyIiwicmFuZ2VzIiwicmVmcmVzaFJhbmdlIiwicTMiLCJyZXNldFJhZGlvIiwicTQiLCJjaGVja2JveGVzUTQiLCJjaGVja2JveCIsInJlc2V0Q2hlY2tCb3giLCJxNSIsImhhc093bkFuc3dlciIsInNsaWRlcnMiLCJzbGlkZXIiLCJjdXJyZW50IiwibmV4dFNpYmxpbmciLCJpbm5lckhUTUwiLCJwZXJjZW50VmFsdWUiLCJtYXgiLCJjb2xvciIsImJhY2tncm91bmQiLCJyZWNvcmRDaGVja2JveCIsImNoZWNrTmVlZFNvdW5kIiwidG9nZ2xlUmFuZ2UiLCJvd25BbnN3ZXJBcmVhIiwiaGFzT3duIiwicmFkaW9JdGVtcyIsInF1aXpCb2R5IiwiYWxsUmFkaW9zIiwiYWxsUmFuZ2VzIiwiYWxsQ2hlY2tib3hlcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsTUFBTSxDQUFDQyxNQUFQLEdBQWdCLE1BQU07QUFDbEIsTUFBSUMsYUFBYSxHQUFHLENBQXBCO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLENBQ1YsZ0JBRFUsRUFFVixZQUZVLEVBR1YsWUFIVSxFQUlWLFlBSlUsRUFLVixZQUxVLEVBTVYsWUFOVSxFQU9WLFlBUFUsRUFRVixZQVJVLEVBU1YsU0FUVSxFQVVWLFdBVlUsQ0FBZDtBQVlBLFFBQU1DLFNBQVMsR0FBRyxDQUNkLEVBRGMsRUFFZCw0REFGYyxFQUdkLHlDQUhjLEVBSWQsd0JBSmMsRUFLZCxxREFMYyxFQU1kLCtCQU5jLEVBT2QsMkJBUGMsRUFRZCx5REFSYyxDQUFsQjtBQVVBQyxFQUFBQSxjQUFjO0FBQ2RDLEVBQUFBLGVBQWU7QUFDZkMsRUFBQUEsZ0JBQWdCO0FBQ2hCQyxFQUFBQSxhQUFhO0FBQ2JDLEVBQUFBLFdBQVc7QUFDWEMsRUFBQUEsbUJBQW1CLENBQUNDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixtQkFBdkIsQ0FBRCxDQUFuQjtBQUNBQyxFQUFBQSxzQkFBc0I7QUFDdEJDLEVBQUFBLG1CQUFtQixHQS9CRCxDQWlDbEI7O0FBQ0EsV0FBU0MsVUFBVCxDQUFvQkMsU0FBcEIsRUFBOEI7QUFDMUIsUUFBR0EsU0FBUyxJQUFJLFNBQWhCLEVBQTBCO0FBQ3RCLFVBQUlDLFdBQVcsR0FBR04sUUFBUSxDQUFDQyxhQUFULFdBQTBCVCxLQUFLLENBQUNELGFBQUQsQ0FBL0IsRUFBbEI7QUFDQUEsTUFBQUEsYUFBYSxJQUFJLENBQWpCLEdBQW1CZ0IsSUFBSSxDQUFDRCxXQUFXLENBQUNFLGFBQVosQ0FBMEJBLGFBQTNCLENBQXZCLEdBQWlFRCxJQUFJLENBQUNELFdBQUQsQ0FBckU7QUFDQWYsTUFBQUEsYUFBYTtBQUNiLFVBQUlrQixRQUFRLEdBQUdULFFBQVEsQ0FBQ0MsYUFBVCxXQUEwQlQsS0FBSyxDQUFDRCxhQUFELENBQS9CLEVBQWY7QUFDQUEsTUFBQUEsYUFBYSxJQUFJLENBQWpCLEdBQW1CbUIsSUFBSSxDQUFDRCxRQUFRLENBQUNELGFBQVQsQ0FBdUJBLGFBQXhCLEVBQXVDLE1BQXZDLENBQXZCLEdBQXNFRSxJQUFJLENBQUNELFFBQUQsRUFBVyxNQUFYLENBQTFFO0FBRUgsS0FQRCxNQVFLLElBQUcsTUFBSCxFQUFVO0FBQ1gsVUFBSUgsV0FBVyxHQUFHTixRQUFRLENBQUNDLGFBQVQsV0FBMEJULEtBQUssQ0FBQ0QsYUFBRCxDQUEvQixFQUFsQjtBQUNBQSxNQUFBQSxhQUFhLElBQUksQ0FBakIsR0FBbUJnQixJQUFJLENBQUNELFdBQVcsQ0FBQ0UsYUFBWixDQUEwQkEsYUFBM0IsQ0FBdkIsR0FBaUVELElBQUksQ0FBQ0QsV0FBRCxDQUFyRTtBQUNBZixNQUFBQSxhQUFhO0FBQ2IsVUFBSWtCLFFBQVEsR0FBR1QsUUFBUSxDQUFDQyxhQUFULFdBQTBCVCxLQUFLLENBQUNELGFBQUQsQ0FBL0IsRUFBZjtBQUNBQSxNQUFBQSxhQUFhLElBQUksQ0FBakIsR0FBbUJtQixJQUFJLENBQUNELFFBQVEsQ0FBQ0QsYUFBVCxDQUF1QkEsYUFBeEIsRUFBdUMsTUFBdkMsQ0FBdkIsR0FBc0VFLElBQUksQ0FBQ0QsUUFBRCxFQUFXLE1BQVgsQ0FBMUU7QUFDSDs7QUFDRCxRQUFHLElBQUlsQixhQUFKLEdBQW9CLENBQXZCLEVBQXlCO0FBQ3JCb0IsTUFBQUEsZUFBZTtBQUNmQyxNQUFBQSxXQUFXO0FBQ2Q7QUFDSixHQXREaUIsQ0F1RGxCOzs7QUFDQSxXQUFTVixzQkFBVCxHQUFpQztBQUM3QkYsSUFBQUEsUUFBUSxDQUFDQyxhQUFULENBQXVCLGtCQUF2QixFQUEyQ1ksT0FBM0MsR0FBcUQsTUFBTVQsVUFBVSxDQUFDLFNBQUQsQ0FBckU7O0FBQ0FKLElBQUFBLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1Qix1QkFBdkIsRUFBZ0RZLE9BQWhELEdBQTBELE1BQU1ULFVBQVUsQ0FBQyxTQUFELENBQTFFOztBQUNBSixJQUFBQSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsb0JBQXZCLEVBQTZDWSxPQUE3QyxHQUF1RCxNQUFNVCxVQUFVLENBQUMsTUFBRCxDQUF2RTtBQUNILEdBNURpQixDQTZEbEI7OztBQUNBLFdBQVNHLElBQVQsQ0FBY08sSUFBZCxFQUFtQjtBQUNmQSxJQUFBQSxJQUFJLENBQUNDLEtBQUwsQ0FBV0MsT0FBWCxHQUFxQixDQUFyQjtBQUNBRixJQUFBQSxJQUFJLENBQUNDLEtBQUwsQ0FBV0UsT0FBWCxHQUFxQixNQUFyQjtBQUNIOztBQUNELFdBQVNQLElBQVQsQ0FBY0ksSUFBZCxFQUFvQkksWUFBcEIsRUFBaUM7QUFDN0JKLElBQUFBLElBQUksQ0FBQ0MsS0FBTCxDQUFXRSxPQUFYLEdBQXFCQyxZQUFyQjtBQUNBSixJQUFBQSxJQUFJLENBQUNDLEtBQUwsQ0FBV0MsT0FBWCxHQUFxQixDQUFyQjtBQUNILEdBckVpQixDQXNFbEI7OztBQUNBLFdBQVNMLGVBQVQsR0FBMEI7QUFDdEIsUUFBSVEsUUFBUSxHQUFHbkIsUUFBUSxDQUFDQyxhQUFULENBQXVCLHNCQUF2QixDQUFmO0FBQ0FrQixJQUFBQSxRQUFRLENBQUNDLFdBQVQsR0FBdUIzQixTQUFTLENBQUNGLGFBQUQsQ0FBaEM7QUFDSCxHQTFFaUIsQ0E0RWxCOzs7QUFDQSxXQUFTcUIsV0FBVCxHQUFzQjtBQUNsQixRQUFJUyxhQUFhLEdBQUdyQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsdUJBQXZCLENBQXBCOztBQUNBLFFBQUcsQ0FBQ3FCLGFBQWEsQ0FBQy9CLGFBQUQsQ0FBakIsRUFBaUM7QUFDN0I4QixNQUFBQSxhQUFhLENBQUNFLFFBQWQsR0FBeUIsSUFBekI7QUFDSCxLQUZELE1BR0k7QUFDQUYsTUFBQUEsYUFBYSxDQUFDRSxRQUFkLEdBQXlCLEtBQXpCO0FBQ0g7QUFDSixHQXJGaUIsQ0FzRmxCOzs7QUFDQSxXQUFTRCxhQUFULENBQXVCL0IsYUFBdkIsRUFBcUM7QUFDakMsUUFBSWlDLE1BQU0sR0FBRyxDQUFiO0FBQ0EsUUFBSWxCLFdBQVcsR0FBR04sUUFBUSxDQUFDQyxhQUFULFdBQTBCVCxLQUFLLENBQUNELGFBQUQsQ0FBL0IsRUFBbEI7O0FBRUEsWUFBT0EsYUFBUDtBQUNJLFdBQUssQ0FBTDtBQUNJLFlBQUlrQyxRQUFRLEdBQUduQixXQUFXLENBQUNvQixnQkFBWixDQUE2QixtQkFBN0IsQ0FBZjtBQUNBRCxRQUFBQSxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLEtBQUssSUFBSTtBQUN0QixjQUFHQSxLQUFLLENBQUNDLE9BQVQsRUFBaUI7QUFDYkwsWUFBQUEsTUFBTTtBQUNUO0FBQ0osU0FKRDtBQUtBOztBQUNKLFdBQUssQ0FBTDtBQUNJLFlBQUlNLFFBQVEsR0FBR3hCLFdBQVcsQ0FBQ29CLGdCQUFaLENBQTZCLGdCQUE3QixDQUFmO0FBQ0FJLFFBQUFBLFFBQVEsQ0FBQ0gsT0FBVCxDQUFpQkksS0FBSyxJQUFJO0FBQ3RCLGNBQUdBLEtBQUssQ0FBQ0MsS0FBTixJQUFlLENBQWxCLEVBQW9CO0FBQ2hCUixZQUFBQSxNQUFNO0FBQ1Q7QUFDSixTQUpEO0FBS0E7O0FBQ0osV0FBSyxDQUFMO0FBQ0ksWUFBSVMsUUFBUSxHQUFHM0IsV0FBVyxDQUFDb0IsZ0JBQVosQ0FBNkIsZUFBN0IsQ0FBZjtBQUNBTyxRQUFBQSxRQUFRLENBQUNOLE9BQVQsQ0FBaUJDLEtBQUssSUFBSTtBQUN0QixjQUFHQSxLQUFLLENBQUNDLE9BQVQsRUFBaUI7QUFDYkwsWUFBQUEsTUFBTTtBQUNUO0FBQ0osU0FKRDtBQUtBOztBQUNKLFdBQUssQ0FBTDtBQUVJLFlBQUlVLGNBQWMsR0FBRzVCLFdBQVcsQ0FBQ0wsYUFBWixDQUEwQixtQkFBMUIsQ0FBckI7QUFDQSxZQUFJa0MsV0FBVyxHQUFHN0IsV0FBVyxDQUFDTCxhQUFaLENBQTBCLGVBQTFCLENBQWxCO0FBQ0EsWUFBSW1DLFlBQVksR0FBRzlCLFdBQVcsQ0FBQ0wsYUFBWixDQUEwQixnQkFBMUIsQ0FBbkI7QUFDQSxZQUFJb0MsU0FBUyxHQUFHL0IsV0FBVyxDQUFDTCxhQUFaLENBQTBCLGFBQTFCLENBQWhCOztBQUNBLFlBQUdtQyxZQUFZLENBQUNQLE9BQWIsSUFBd0IsQ0FBQ00sV0FBVyxDQUFDTixPQUFyQyxJQUFnRCxDQUFDUSxTQUFTLENBQUNSLE9BQTlELEVBQXNFO0FBQ2xFTCxVQUFBQSxNQUFNO0FBQ1Q7O0FBQ0QsWUFBRyxDQUFDWSxZQUFZLENBQUNQLE9BQWQsSUFBeUJNLFdBQVcsQ0FBQ04sT0FBckMsSUFBZ0QsQ0FBQ1EsU0FBUyxDQUFDUixPQUE5RCxFQUFzRTtBQUNsRUwsVUFBQUEsTUFBTTtBQUNUOztBQUNELFlBQUdZLFlBQVksQ0FBQ1AsT0FBYixJQUF3Qk0sV0FBVyxDQUFDTixPQUFwQyxJQUErQyxDQUFDUSxTQUFTLENBQUNSLE9BQTdELEVBQXFFO0FBQ2pFTCxVQUFBQSxNQUFNO0FBQ1Q7O0FBQ0QsWUFBR1ksWUFBWSxDQUFDUCxPQUFiLElBQXdCLENBQUNNLFdBQVcsQ0FBQ04sT0FBckMsSUFBZ0RRLFNBQVMsQ0FBQ1IsT0FBMUQsSUFBcUVLLGNBQWMsQ0FBQ0YsS0FBZixJQUF3QixDQUFoRyxFQUFrRztBQUM5RlIsVUFBQUEsTUFBTTtBQUNUOztBQUNELFlBQUcsQ0FBQ1ksWUFBWSxDQUFDUCxPQUFkLElBQXlCTSxXQUFXLENBQUNOLE9BQXJDLElBQWdEUSxTQUFTLENBQUNSLE9BQTFELElBQXFFSyxjQUFjLENBQUNGLEtBQWYsSUFBd0IsQ0FBaEcsRUFBa0c7QUFDOUZSLFVBQUFBLE1BQU07QUFDVDs7QUFDRCxZQUFHWSxZQUFZLENBQUNQLE9BQWIsSUFBd0JNLFdBQVcsQ0FBQ04sT0FBcEMsSUFBK0NRLFNBQVMsQ0FBQ1IsT0FBekQsSUFBb0VLLGNBQWMsQ0FBQ0YsS0FBZixJQUF3QixDQUEvRixFQUFpRztBQUM3RlIsVUFBQUEsTUFBTTtBQUNUOztBQUNELFlBQUcsQ0FBQ1ksWUFBWSxDQUFDUCxPQUFkLElBQXlCLENBQUNNLFdBQVcsQ0FBQ04sT0FBdEMsSUFBaURRLFNBQVMsQ0FBQ1IsT0FBM0QsSUFBc0VLLGNBQWMsQ0FBQ0YsS0FBZixJQUF3QixDQUFqRyxFQUFtRztBQUMvRlIsVUFBQUEsTUFBTTtBQUNUOztBQUVEOztBQUNKLFdBQUssQ0FBTDtBQUNJLFlBQUljLFFBQVEsR0FBR2hDLFdBQVcsQ0FBQ29CLGdCQUFaLENBQTZCLGVBQTdCLENBQWY7QUFDQVksUUFBQUEsUUFBUSxDQUFDWCxPQUFULENBQWlCQyxLQUFLLElBQUk7QUFDdEIsY0FBR0EsS0FBSyxDQUFDQyxPQUFULEVBQWlCO0FBQ2JMLFlBQUFBLE1BQU07QUFDVDtBQUNKLFNBSkQ7QUFLQTs7QUFDSixXQUFLLENBQUw7QUFDSSxZQUFJZSxRQUFRLEdBQUdqQyxXQUFXLENBQUNvQixnQkFBWixDQUE2QixPQUE3QixDQUFmO0FBQ0FhLFFBQUFBLFFBQVEsQ0FBQ1osT0FBVCxDQUFpQmEsS0FBSyxJQUFJO0FBQ3RCLGNBQUdBLEtBQUssQ0FBQ1IsS0FBTixJQUFlLENBQWxCLEVBQW9CO0FBQ2hCUixZQUFBQSxNQUFNO0FBQ1Q7QUFDSixTQUpEO0FBS0E7O0FBQ0osV0FBSyxDQUFMO0FBQ0ksWUFBSWlCLFFBQVEsR0FBR25DLFdBQVcsQ0FBQ29CLGdCQUFaLENBQTZCLHVCQUE3QixDQUFmO0FBQ0FlLFFBQUFBLFFBQVEsQ0FBQ2QsT0FBVCxDQUFpQkMsS0FBSyxJQUFJO0FBQ3RCLGNBQUdBLEtBQUssQ0FBQ0MsT0FBVCxFQUFpQjtBQUNiTCxZQUFBQSxNQUFNO0FBQ1Q7QUFDSixTQUpEO0FBS0E7QUE3RVI7O0FBZ0ZBLFdBQU9BLE1BQVA7QUFDTSxHQTVLUSxDQTZLdEI7QUFDQTs7O0FBQ0EsV0FBUzVCLGdCQUFULEdBQTJCO0FBQ3ZCLFFBQUk4QyxZQUFZLEdBQUcxQyxRQUFRLENBQUMwQixnQkFBVCx1QkFBbkI7QUFDQWdCLElBQUFBLFlBQVksQ0FBQ2YsT0FBYixDQUFxQmdCLElBQUksSUFBSTtBQUN6QixVQUFHQSxJQUFJLENBQUNkLE9BQVIsRUFBZ0I7QUFDWmMsUUFBQUEsSUFBSSxDQUFDbkMsYUFBTCxDQUFtQm9DLFNBQW5CLENBQTZCQyxHQUE3QixDQUFpQyx3QkFBakM7QUFDSCxPQUZELE1BR0k7QUFDQUYsUUFBQUEsSUFBSSxDQUFDbkMsYUFBTCxDQUFtQm9DLFNBQW5CLENBQTZCRSxNQUE3QixDQUFvQyx3QkFBcEM7QUFDSDtBQUNKLEtBUEQ7QUFTSCxHQTFMcUIsQ0EyTHRCOzs7QUFDQSxXQUFTakQsYUFBVCxHQUF3QjtBQUNwQixRQUFJNkMsWUFBWSxHQUFHMUMsUUFBUSxDQUFDMEIsZ0JBQVQsQ0FBMEIsbUJBQTFCLENBQW5CO0FBQ0FnQixJQUFBQSxZQUFZLENBQUNmLE9BQWIsQ0FBcUJnQixJQUFJLElBQUk7QUFDekJBLE1BQUFBLElBQUksQ0FBQ0ksZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsWUFBVTtBQUN0QyxZQUFJQyxZQUFZLEdBQUcsSUFBbkI7QUFDQXBELFFBQUFBLGdCQUFnQjtBQUNoQnFELFFBQUFBLFdBQVc7QUFDWGxELFFBQUFBLG1CQUFtQixDQUFDaUQsWUFBRCxDQUFuQjtBQUNILE9BTEQ7QUFNSCxLQVBEO0FBU0gsR0F2TXFCLENBd010Qjs7O0FBQ0EsV0FBU2pELG1CQUFULENBQTZCeUMsS0FBN0IsRUFBbUM7QUFDL0IsUUFBSVUsYUFBYSxHQUFHVixLQUFLLENBQUNXLE9BQU4sQ0FBY0MsTUFBbEM7QUFDQSxRQUFJQyxhQUFhLEdBQUdyRCxRQUFRLENBQUMwQixnQkFBVCxDQUEwQixxQkFBMUIsQ0FBcEI7QUFDQTJCLElBQUFBLGFBQWEsQ0FBQzFCLE9BQWQsQ0FBc0IyQixPQUFPLElBQUk7QUFDN0JBLE1BQUFBLE9BQU8sQ0FBQ3ZDLEtBQVIsQ0FBY0UsT0FBZCxHQUF3QixNQUF4QjtBQUNILEtBRkQ7QUFHQSxRQUFJc0MsZ0JBQWdCLEdBQUd2RCxRQUFRLENBQUNDLGFBQVQsMEJBQXlDaUQsYUFBekMsRUFBdkI7QUFDQUssSUFBQUEsZ0JBQWdCLENBQUN4QyxLQUFqQixDQUF1QkUsT0FBdkIsR0FBaUMsTUFBakM7QUFFSCxHQWxOcUIsQ0FtTnRCOzs7QUFDQSxXQUFTZ0MsV0FBVCxHQUFzQjtBQUNkO0FBQ0EsUUFBSU8sRUFBRSxHQUFHeEQsUUFBUSxDQUFDQyxhQUFULENBQXVCLFlBQXZCLENBQVQ7QUFDQSxRQUFJd0QsTUFBTSxHQUFHRCxFQUFFLENBQUM5QixnQkFBSCxDQUFvQixnQkFBcEIsQ0FBYjtBQUNBK0IsSUFBQUEsTUFBTSxDQUFDOUIsT0FBUCxDQUFlSSxLQUFLLElBQUk7QUFDcEJBLE1BQUFBLEtBQUssQ0FBQ0MsS0FBTixHQUFjLENBQWQ7QUFDQTBCLE1BQUFBLFlBQVksQ0FBQzNCLEtBQUQsQ0FBWjtBQUNILEtBSEQsRUFKYyxDQVFkOztBQUNBLFFBQUk0QixFQUFFLEdBQUczRCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBVDtBQUNBLFFBQUlnQyxRQUFRLEdBQUcwQixFQUFFLENBQUNqQyxnQkFBSCxDQUFvQixlQUFwQixDQUFmO0FBQ0FPLElBQUFBLFFBQVEsQ0FBQ04sT0FBVCxDQUFpQkMsS0FBSyxJQUFJO0FBQ3RCZ0MsTUFBQUEsVUFBVSxDQUFDaEMsS0FBRCxDQUFWO0FBQ0gsS0FGRCxFQVhjLENBY2Q7O0FBQ0EsUUFBSWlDLEVBQUUsR0FBRzdELFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixZQUF2QixDQUFUO0FBQ0EsUUFBSTZELFlBQVksR0FBR0QsRUFBRSxDQUFDbkMsZ0JBQUgsQ0FBb0IsZUFBcEIsQ0FBbkI7QUFDQW9DLElBQUFBLFlBQVksQ0FBQ25DLE9BQWIsQ0FBcUJvQyxRQUFRLElBQUk7QUFDN0JDLE1BQUFBLGFBQWEsQ0FBQ0QsUUFBRCxDQUFiO0FBQ0gsS0FGRCxFQWpCYyxDQW9CZDs7QUFDQSxRQUFJRSxFQUFFLEdBQUdqRSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBVDtBQUNBLFFBQUlxQyxRQUFRLEdBQUcyQixFQUFFLENBQUN2QyxnQkFBSCxDQUFvQixlQUFwQixDQUFmO0FBQ0FZLElBQUFBLFFBQVEsQ0FBQ1gsT0FBVCxDQUFpQkMsS0FBSyxJQUFJO0FBQ3RCZ0MsTUFBQUEsVUFBVSxDQUFDaEMsS0FBRCxDQUFWO0FBQ0FzQyxNQUFBQSxZQUFZO0FBQ2YsS0FIRDtBQUtQLEdBaFBxQixDQWlQdEI7OztBQUNBLFdBQVNwRSxXQUFULEdBQXNCO0FBQ2xCLFFBQUlxRSxPQUFPLEdBQUduRSxRQUFRLENBQUMwQixnQkFBVCxDQUEwQixnQkFBMUIsQ0FBZDtBQUNBeUMsSUFBQUEsT0FBTyxDQUFDeEMsT0FBUixDQUFnQnlDLE1BQU0sSUFBSTtBQUN0QkEsTUFBQUEsTUFBTSxDQUFDckIsZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUMsWUFBVTtBQUN2Q1csUUFBQUEsWUFBWSxDQUFDLElBQUQsQ0FBWjtBQUNBOUMsUUFBQUEsV0FBVztBQUNkLE9BSEQ7QUFJSCxLQUxEO0FBTUgsR0ExUHFCLENBMlB0Qjs7O0FBQ0EsV0FBU2dELFVBQVQsQ0FBb0I5QyxJQUFwQixFQUF5QjtBQUNyQkEsSUFBQUEsSUFBSSxDQUFDZSxPQUFMLEdBQWUsS0FBZjtBQUNILEdBOVBxQixDQStQdEI7OztBQUNBLFdBQVNtQyxhQUFULENBQXVCbEQsSUFBdkIsRUFBNEI7QUFDeEJBLElBQUFBLElBQUksQ0FBQ2UsT0FBTCxHQUFlLEtBQWY7QUFDSCxHQWxRcUIsQ0FtUXRCOzs7QUFDQSxXQUFTNkIsWUFBVCxDQUFzQlcsT0FBdEIsRUFBOEI7QUFDMUJBLElBQUFBLE9BQU8sQ0FBQ0MsV0FBUixDQUFvQkMsU0FBcEIsR0FBZ0NGLE9BQU8sQ0FBQ3JDLEtBQXhDO0FBQ0EsUUFBSXdDLFlBQVksR0FBSUgsT0FBTyxDQUFDckMsS0FBUixHQUFjcUMsT0FBTyxDQUFDSSxHQUF2QixHQUE0QixHQUEvQztBQUNBLFFBQUlDLEtBQUsscURBQThDRixZQUE5QywyQ0FBMkZBLFlBQTNGLE9BQVQ7QUFDQUgsSUFBQUEsT0FBTyxDQUFDdEQsS0FBUixDQUFjNEQsVUFBZCxHQUEyQkQsS0FBM0I7QUFDSCxHQXpRcUIsQ0EwUXRCOzs7QUFDQSxXQUFTaEYsY0FBVCxHQUF5QjtBQUNyQixRQUFJa0YsY0FBYyxHQUFHNUUsUUFBUSxDQUFDQyxhQUFULENBQXVCLGFBQXZCLENBQXJCO0FBQ0EyRSxJQUFBQSxjQUFjLENBQUM3QixnQkFBZixDQUFnQyxRQUFoQyxFQUEwQzhCLGNBQTFDO0FBQ0g7O0FBQ0QsV0FBU0EsY0FBVCxHQUF5QjtBQUNyQixRQUFJRCxjQUFjLEdBQUc1RSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsYUFBdkIsQ0FBckI7QUFDQSxRQUFJNkUsV0FBVyxHQUFHOUUsUUFBUSxDQUFDQyxhQUFULENBQXVCLHNCQUF2QixDQUFsQjs7QUFDQSxRQUFHMkUsY0FBYyxDQUFDL0MsT0FBbEIsRUFBMEI7QUFDdEJpRCxNQUFBQSxXQUFXLENBQUNsQyxTQUFaLENBQXNCRSxNQUF0QixDQUE2Qiw0QkFBN0I7QUFDSCxLQUZELE1BR0k7QUFDQWdDLE1BQUFBLFdBQVcsQ0FBQ2xDLFNBQVosQ0FBc0JDLEdBQXRCLENBQTBCLDRCQUExQjtBQUNIO0FBQ0osR0F4UnFCLENBeVJ0QjtBQUNJOzs7QUFDQSxXQUFTcUIsWUFBVCxHQUF1QjtBQUNuQixRQUFJYSxhQUFhLEdBQUcvRSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsa0JBQXZCLENBQXBCO0FBQ0EsUUFBSStFLE1BQU0sR0FBR2hGLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixZQUF2QixDQUFiOztBQUNBLFFBQUcrRSxNQUFNLENBQUNuRCxPQUFWLEVBQWtCO0FBQ2RrRCxNQUFBQSxhQUFhLENBQUNuQyxTQUFkLENBQXdCRSxNQUF4QixDQUErQix3QkFBL0I7QUFDSCxLQUZELE1BR0k7QUFDQWlDLE1BQUFBLGFBQWEsQ0FBQ25DLFNBQWQsQ0FBd0JDLEdBQXhCLENBQTRCLHdCQUE1QjtBQUNIO0FBQ0osR0FwU2lCLENBcVNsQjs7O0FBQ0EsV0FBU2xELGVBQVQsR0FBMEI7QUFDdEIsUUFBSXNGLFVBQVUsR0FBR2pGLFFBQVEsQ0FBQzBCLGdCQUFULGdCQUFqQjtBQUNBdUQsSUFBQUEsVUFBVSxDQUFDdEQsT0FBWCxDQUFtQmdCLElBQUksSUFBSTtBQUN2QkEsTUFBQUEsSUFBSSxDQUFDSSxnQkFBTCxDQUFzQixRQUF0QixFQUFnQ21CLFlBQWhDO0FBQ0gsS0FGRDtBQUdILEdBM1NpQixDQTZTbEI7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFdBQVMvRCxtQkFBVCxHQUE4QjtBQUMxQixRQUFJK0UsUUFBUSxHQUFHbEYsUUFBUSxDQUFDQyxhQUFULENBQXVCLHVCQUF2QixDQUFmO0FBQ0EsUUFBSWtGLFNBQVMsR0FBR0QsUUFBUSxDQUFDeEQsZ0JBQVQsQ0FBMEIscUJBQTFCLENBQWhCO0FBQ0F5RCxJQUFBQSxTQUFTLENBQUN4RCxPQUFWLENBQWtCZ0IsSUFBSSxJQUFJO0FBQUNBLE1BQUFBLElBQUksQ0FBQ0ksZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0MsTUFBTW5DLFdBQVcsRUFBakQ7QUFBcUQsS0FBaEY7QUFDQSxRQUFJd0UsU0FBUyxHQUFHRixRQUFRLENBQUN4RCxnQkFBVCxDQUEwQixxQkFBMUIsQ0FBaEI7QUFDQTBELElBQUFBLFNBQVMsQ0FBQ3pELE9BQVYsQ0FBa0JnQixJQUFJLElBQUk7QUFBQ0EsTUFBQUEsSUFBSSxDQUFDSSxnQkFBTCxDQUFzQixPQUF0QixFQUErQixNQUFNbkMsV0FBVyxFQUFoRDtBQUFvRCxLQUEvRTtBQUNBLFFBQUl5RSxhQUFhLEdBQUdILFFBQVEsQ0FBQ3hELGdCQUFULENBQTBCLHdCQUExQixDQUFwQjtBQUNBMkQsSUFBQUEsYUFBYSxDQUFDMUQsT0FBZCxDQUFzQmdCLElBQUksSUFBSTtBQUFDQSxNQUFBQSxJQUFJLENBQUNJLGdCQUFMLENBQXNCLFFBQXRCLEVBQWdDLE1BQU1uQyxXQUFXLEVBQWpEO0FBQXFELEtBQXBGO0FBRUg7QUFNSixDQWhVRCIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICBsZXQgc2NyZWVuQ291bnRlciA9IDA7XHJcbiAgICBjb25zdCBwYWdlcyA9IFtcclxuICAgICAgICAnI3F1aXpfX3ByZWxvYWQnLFxyXG4gICAgICAgICcjcXVlc3Rpb24xJyxcclxuICAgICAgICAnI3F1ZXN0aW9uMicsXHJcbiAgICAgICAgJyNxdWVzdGlvbjMnLFxyXG4gICAgICAgICcjcXVlc3Rpb240JyxcclxuICAgICAgICAnI3F1ZXN0aW9uNScsXHJcbiAgICAgICAgJyNxdWVzdGlvbjYnLFxyXG4gICAgICAgICcjcXVlc3Rpb243JyxcclxuICAgICAgICAnI3Jlc3VsdCcsXHJcbiAgICAgICAgJyNnZXRPZmZlcidcclxuICAgIF07XHJcbiAgICBjb25zdCBxdWVzdGlvbnMgPSBbXHJcbiAgICAgICAgJycsXHJcbiAgICAgICAgJ9CU0LvRjyDQutCw0LrQvtCz0L4g0L7QsdGK0LXQutGC0LAg0JLQsNC8INC90LXQvtCx0YXQvtC00LjQvNCwINGB0LjRgdGC0LXQvNCwINCy0LjQtNC10L7QvdCw0LHQu9GO0LTQtdC90LjRjz8nLFxyXG4gICAgICAgICfQodC60L7Qu9GM0LrQviDQutCw0LzQtdGAINCS0Ysg0L/Qu9Cw0L3QuNGA0YPQtdGC0LUg0YPRgdGC0LDQvdC+0LLQuNGC0Yw/JyxcclxuICAgICAgICAn0JLRgNC10LzRjyDRhdGA0LDQvdC10L3QuNGPINCw0YDRhdC40LLQsDonLFxyXG4gICAgICAgICfQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INC/0L7QttC10LvQsNC90LjRjyDQuiDRgdC40YHRgtC10LzQtSDQstC40LTQtdC+0L3QsNCx0LvRjtC00LXQvdC40Y86JyxcclxuICAgICAgICAn0JrQsNC6INGB0YDQvtGH0L3QviDQktCw0Lwg0L3Rg9C20L3QsCDRgdC40YHRgtC10LzQsD8nLFxyXG4gICAgICAgICfQn9GA0LjQvNC10YDQvdCw0Y8g0L/Qu9C+0YnQsNC00Ywg0L7QsdC10LrRgtCwICcsXHJcbiAgICAgICAgJ9CS0LDQvCDQvdGD0LbQtdC9INCz0L7RgtC+0LLRi9C5INC60L7QvNC/0LvQtdC60YIg0LjQu9C4INC80L7QvdGC0LDQtiDRgdC40YHRgtC10LzRiyDQv9C+0LQg0LrQu9GO0Yc/J1xyXG4gICAgXTtcclxuICAgIG5lZWRTb3VuZEV2ZW50KCk7XHJcbiAgICBmYXN0TGV2ZWxDaGFuZ2UoKTtcclxuICAgIHJhZGlvQ2hlY2tBY3RpdmUoKTtcclxuICAgIHJhZGlvT25DaGFuZ2UoKTtcclxuICAgIGZ1bmNTbGlkZXJzKCk7XHJcbiAgICBzaG93Q3VycmVudFNwaGVyZVEyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNxdWVzdGlvbjFfX2hvdXNlJykpO1xyXG4gICAgYWRkTmF2aWdhdGlvblRvQnV0dG9ucygpXHJcbiAgICBhZGRFdmVudE9uQWxsSW5wdXRzKCk7XHJcbiAgICBcclxuICAgIC8v0YTRg9C90LrRhtC40Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0aW9uKGRpcmVjdGlvbil7XHJcbiAgICAgICAgaWYoZGlyZWN0aW9uID09ICdmb3J3YXJkJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gNz9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIrKztcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSAxP3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCdiYWNrJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gMT9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXItLTtcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSA3P3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKDAgPCBzY3JlZW5Db3VudGVyIDwgOCl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hRdWVzdGlvbigpO1xyXG4gICAgICAgICAgICBjaGVja0J1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0L3QsNCy0LjQs9Cw0YbQuNC4INC90LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBhZGROYXZpZ2F0aW9uVG9CdXR0b25zKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRfX2J1dHRvbicpLm9uY2xpY2sgPSAoKSA9PiBuYXZpZ2F0aW9uKCdmb3J3YXJkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJykub25jbGljayA9ICgpID0+IG5hdmlnYXRpb24oJ2ZvcndhcmQnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVpel9fYnV0dG9uX2JhY2snKS5vbmNsaWNrID0gKCkgPT4gbmF2aWdhdGlvbignYmFjaycpO1xyXG4gICAgfVxyXG4gICAgLy/Qv9C+0LrQsNC30LDRgtGML9GB0LrRgNGL0YLRjCDRjdC70LXQvNC10L3RgiDQv9GA0Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBoaWRlKGVsZW0pe1xyXG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvdyhlbGVtLCBkaXNwUHJvcGVydHkpe1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IGRpc3BQcm9wZXJ0eTtcclxuICAgICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgfSAgICBcclxuICAgIC8v0J7QsdC90L7QstC40YLRjCDQstC+0L/RgNC+0YFcclxuICAgIGZ1bmN0aW9uIHJlZnJlc2hRdWVzdGlvbigpe1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbc2NyZWVuQ291bnRlcl07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v0LHQu9C+0LrQuNGA0L7QstC60LAv0YDQsNC30LHQu9C+0LrQuNGA0L7QstC60LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBjaGVja0J1dHRvbigpe1xyXG4gICAgICAgIGxldCBidXR0b25Gb3J3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJyk7XHJcbiAgICAgICAgaWYoIWNoZWNrSXNDaG9zZW4oc2NyZWVuQ291bnRlcikpe1xyXG4gICAgICAgICAgICBidXR0b25Gb3J3YXJkLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uRm9yd2FyZC5kaXNhYmxlZCA9IGZhbHNlOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL9C/0YDQvtCy0LXRgNC40YLRjCDQstGL0LHRgNCw0L0g0LvQuCDQstCw0YDQuNCw0L3RgiDQvdCwINGC0LXQutGD0YnQtdC5INGB0YLRgNCw0L3QuNGG0LVcclxuICAgIGZ1bmN0aW9uIGNoZWNrSXNDaG9zZW4oc2NyZWVuQ291bnRlcil7XHJcbiAgICAgICAgbGV0IGlzVHJ1ZSA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuXHJcbiAgICAgICAgc3dpdGNoKHNjcmVlbkNvdW50ZXIpe1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTEgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24xX19pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgcmFkaW9zUTEuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmFkaW8uY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGxldCByYW5nZXNRMiA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5nZV9fc2xpZGVyJyk7XHJcbiAgICAgICAgICAgICAgICByYW5nZXNRMi5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYW5nZS52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTMgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgICAgICAgICByYWRpb3NRMy5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYWRpby5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZE5lZWRJbnB1dCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkX3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzZXJ2ZU5lZWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjcmVzZXJ2ZV9uZWVkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJuZXROZWVkID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI2ludGVybmV0X25lZWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZE5lZWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjc291bmRfbmVlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgIXJlc2VydmVOZWVkLmNoZWNrZWQgJiYgIXNvdW5kTmVlZC5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmICFzb3VuZE5lZWQuY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmICFzb3VuZE5lZWQuY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiAhcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZElucHV0LnZhbHVlICE9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiAhcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlvc1E1ID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1yYWRpbycpO1xyXG4gICAgICAgICAgICAgICAgcmFkaW9zUTUuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmFkaW8uY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OiBcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dHNRNiA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dHNRNi5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihpbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTcgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGxlY3RhdGlvbl9faW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIHJhZGlvc1E3LmZvckVhY2gocmFkaW8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJhZGlvLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBpc1RydWU7XHJcbiAgICAgICAgICAgICB9XHJcbi8v0YDQsNC00LjQvtC60L3QvtC/0LrQuCDQktC+0L/RgNC+0YEgMVxyXG4vL9C/0YDQvtCy0LXRgNC60LAg0YDQsNC00LjQvtC60L3QvtC/0L7QuiDQvdCwIGNoZWNrZWQgUTEgLSBxdWVzdGlvbiAxXHJcbmZ1bmN0aW9uIHJhZGlvQ2hlY2tBY3RpdmUoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFt0eXBlPSdyYWRpbyddYCk7XHJcbiAgICByYWRpb0l0ZW1zUTEuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZihpdGVtLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC40LLQtdC90YLQsCDQv9C+INC40LfQvNC10L3QtdC90LjRjiDRgNCw0LTQuNC+INC90LAgMSDRgdGC0YDQsNC90LjRhtC1XHJcbmZ1bmN0aW9uIHJhZGlvT25DaGFuZ2UoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24xX19pbnB1dCcpO1xyXG4gICAgcmFkaW9JdGVtc1ExLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFJhZGlvID0gdGhpcztcclxuICAgICAgICAgICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICByZXNldFZhbHVlcygpO1xyXG4gICAgICAgICAgICBzaG93Q3VycmVudFNwaGVyZVEyKGN1cnJlbnRSYWRpbyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuLy/Qv9C+0LrQsNC30LDRgtGMINCy0L4gMiDQstC+0L/RgNC+0YHQtSDQvdGD0LbQvdGD0Y4g0YHRhNC10YDRgyDQv9GA0LjQvNC10L3QtdC90LjRjywg0YHQutGA0YvQsiDQvdC10L3Rg9C20L3QvtC1XHJcbmZ1bmN0aW9uIHNob3dDdXJyZW50U3BoZXJlUTIoaW5wdXQpe1xyXG4gICAgbGV0IGN1cnJlbnRTcGhlcmUgPSBpbnB1dC5kYXRhc2V0LmNob2lzZTtcclxuICAgIGxldCBjYW1Db3VudGVyc1EyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbWVyYS1jb3VudF9faXRlbScpO1xyXG4gICAgY2FtQ291bnRlcnNRMi5mb3JFYWNoKGNvdW50ZXIgPT4ge1xyXG4gICAgICAgIGNvdW50ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0pXHJcbiAgICBsZXQgY3VycmVudENvdW50ZXJRMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jYW1lcmEtY291bnRfXyR7Y3VycmVudFNwaGVyZX1gKTtcclxuICAgIGN1cnJlbnRDb3VudGVyUTIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIFxyXG59XHJcbi8v0YHQsdGA0L7RgdC40YLRjCDRgdGH0LXRgtGH0LjQutC4XHJcbmZ1bmN0aW9uIHJlc2V0VmFsdWVzKCl7XHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgMiDRgdGH0LXRgtGH0LjQutC4INC60LDQvNC10YAg0YPQstC10YHRgtC4INC90LAgMFxyXG4gICAgICAgIGxldCBxMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjInKTtcclxuICAgICAgICBsZXQgcmFuZ2VzID0gcTIucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHJhbmdlLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHJhbmdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDMg0YHQsdGA0L7RgdC40YLRjCByYWRpbyDQvdCwINC/0LXRgNCy0YvQuSDQstCw0YDQuNCw0L3RglxyXG4gICAgICAgIGxldCBxMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjMnKTtcclxuICAgICAgICBsZXQgcmFkaW9zUTMgPSBxMy5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgcmFkaW9zUTMuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgIHJlc2V0UmFkaW8ocmFkaW8pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgNCDRgdCx0YDQvtGB0LjRgtGMINGH0LXQutCx0L7QutGB0YsgXHJcbiAgICAgICAgbGV0IHE0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNCcpO1xyXG4gICAgICAgIGxldCBjaGVja2JveGVzUTQgPSBxNC5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLWNoZWNrJyk7XHJcbiAgICAgICAgY2hlY2tib3hlc1E0LmZvckVhY2goY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICByZXNldENoZWNrQm94KGNoZWNrYm94KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDUg0YHQsdGA0L7RgdC40YLRjCDRgNCw0LTQuNC+XHJcbiAgICAgICAgbGV0IHE1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNScpO1xyXG4gICAgICAgIGxldCByYWRpb3NRNSA9IHE1LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tcmFkaW8nKTtcclxuICAgICAgICByYWRpb3NRNS5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgcmVzZXRSYWRpbyhyYWRpbyk7XHJcbiAgICAgICAgICAgIGhhc093bkFuc3dlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbn1cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINC90LAg0YHQu9Cw0LnQtNC10YBcclxuZnVuY3Rpb24gZnVuY1NsaWRlcnMoKXtcclxuICAgIGxldCBzbGlkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgIHNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hSYW5nZSh0aGlzKTtcclxuICAgICAgICAgICAgY2hlY2tCdXR0b24oKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcbi8v0YHQsdGA0L7RgSDRgNCw0LTQuNC+XHJcbmZ1bmN0aW9uIHJlc2V0UmFkaW8oZWxlbSl7XHJcbiAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcclxufVxyXG4vL3Jlc2V0IGNoZWNrYm94XHJcbmZ1bmN0aW9uIHJlc2V0Q2hlY2tCb3goZWxlbSl7XHJcbiAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcclxufVxyXG4vL9C+0LHQvdC+0LLQuNGC0Ywg0L/QvtC70LfRg9C90L7QulxyXG5mdW5jdGlvbiByZWZyZXNoUmFuZ2UoY3VycmVudCl7XHJcbiAgICBjdXJyZW50Lm5leHRTaWJsaW5nLmlubmVySFRNTCA9IGN1cnJlbnQudmFsdWU7XHJcbiAgICBsZXQgcGVyY2VudFZhbHVlID0gKGN1cnJlbnQudmFsdWUvY3VycmVudC5tYXgpKjEwMDtcclxuICAgIGxldCBjb2xvciA9IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMyw4MSwxNDUsMSkgJHtwZXJjZW50VmFsdWV9JSwgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjE3OCkgJHtwZXJjZW50VmFsdWV9JSlgXHJcbiAgICBjdXJyZW50LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcclxufVxyXG4vL9CS0L7Qv9GA0L7RgSA0INC90YPQttC10L0g0LfQstGD0LpcclxuZnVuY3Rpb24gbmVlZFNvdW5kRXZlbnQoKXtcclxuICAgIGxldCByZWNvcmRDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkJyk7XHJcbiAgICByZWNvcmRDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGVja05lZWRTb3VuZClcclxufVxyXG5mdW5jdGlvbiBjaGVja05lZWRTb3VuZCgpe1xyXG4gICAgbGV0IHJlY29yZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdW5kX25lZWQnKTtcclxuICAgIGxldCB0b2dnbGVSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb3BwZWxfX3NvdW5kcmVjb3JkJyk7XHJcbiAgICBpZihyZWNvcmRDaGVja2JveC5jaGVja2VkKXtcclxuICAgICAgICB0b2dnbGVSYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCdkb3BwZWxfX3NvdW5kcmVjb3JkX2hpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB0b2dnbGVSYW5nZS5jbGFzc0xpc3QuYWRkKCdkb3BwZWxfX3NvdW5kcmVjb3JkX2hpZGRlbicpO1xyXG4gICAgfVxyXG59XHJcbi8v0JLQvtC/0YDQvtGBNSDRgdCy0L7QuSDQstCw0YDQuNCw0L3RgiDQvtGC0LLQtdGC0LBcclxuICAgIC8v0L/RgNC+0LLQtdGA0LjRgtGMINGH0LXQuiDRgyDRgNCw0LTQuNC+INGB0LLQvtC5INCy0LDRgNC40LDQvdGCLCDQtdGB0LvQuCDQtNCwLCDRgtC+INGD0LTQsNC70LjRgtGMINC60LvQsNGB0YEg0YHQutGA0YvRgtC40Y8sINC10YHQu9C4INC90LXRgiAtINC00L7QsdCw0LLQuNGC0YxcclxuICAgIGZ1bmN0aW9uIGhhc093bkFuc3dlcigpe1xyXG4gICAgICAgIGxldCBvd25BbnN3ZXJBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhc3RfX293bmFuc3dlcicpO1xyXG4gICAgICAgIGxldCBoYXNPd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmFzdF9fb3duJyk7XHJcbiAgICAgICAgaWYoaGFzT3duLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICBvd25BbnN3ZXJBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ2Zhc3RfX293bmFuc3dlcl9oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgb3duQW5zd2VyQXJlYS5jbGFzc0xpc3QuYWRkKCdmYXN0X19vd25hbnN3ZXJfaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/QvdCw0LLQtdGB0LjRgtGMINGN0YLRgyDRhNGD0L3QutGG0LjRjiDQvdCwINC40LfQvNC10L3QtdC90LjQtSDQstGB0LXRhSDRhy/QsSDQsiDQs9GA0YPQv9C/0LVcclxuICAgIGZ1bmN0aW9uIGZhc3RMZXZlbENoYW5nZSgpe1xyXG4gICAgICAgIGxldCByYWRpb0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmZhc3RfX2lucHV0YCk7XHJcbiAgICAgICAgcmFkaW9JdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhc093bkFuc3dlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v0L7QsdGJ0LjQuSDQuNCy0LXQvdGCINC90LAg0LLRgdC1INC40L3Qv9GD0YLRiyDQstC+0L/RgNC+0YHQvtCyIGNoZWNrQnV0dG9uKCkgLSDQv9GA0L7QstC10YDQuNGC0YwsIFxyXG4gICAgLy/QtdGB0YLRjCDQu9C4INCy0YvQsdGA0LDQvdC90YvQtSDQuCDQstCy0LXQtNC10L3QvdGL0LUg0LfQvdCw0YfQtdC90LjRjyDQuCDQtdGB0LvQuCDQtdGB0YLRjCxcclxuICAgIC8v0Lgg0LXRgdC70Lgg0LXRgdGC0YwgLSDRgNCw0LfQsdC70L7QutC40YDQvtCy0LDRgtGMINC60L3QvtC/0LrRg1xyXG4gICAgLy/QuNGJ0LXQvCDRh9C10YDQtdC3INGA0L7QtNC40YLQtdC70Y8gLnF1aXpfX3F1ZXN0aW9uLWJvZHksINGH0YLQvtCxINC90LUg0LfQsNGG0LXQv9C40YLRjCDRgdGC0YDQsNC90LjRhtGDINGBINGE0L7RgNC80L7QuVxyXG4gICAgZnVuY3Rpb24gYWRkRXZlbnRPbkFsbElucHV0cygpe1xyXG4gICAgICAgIGxldCBxdWl6Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi1ib2R5ICcpO1xyXG4gICAgICAgIGxldCBhbGxSYWRpb3MgPSBxdWl6Qm9keS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxuICAgICAgICBhbGxSYWRpb3MuZm9yRWFjaChpdGVtID0+IHtpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IGNoZWNrQnV0dG9uKCkpfSk7XHJcbiAgICAgICAgbGV0IGFsbFJhbmdlcyA9IHF1aXpCb2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYW5nZVwiXScpO1xyXG4gICAgICAgIGFsbFJhbmdlcy5mb3JFYWNoKGl0ZW0gPT4ge2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBjaGVja0J1dHRvbigpKX0pO1xyXG4gICAgICAgIGxldCBhbGxDaGVja2JveGVzID0gcXVpekJvZHkucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbiAgICAgICAgYWxsQ2hlY2tib3hlcy5mb3JFYWNoKGl0ZW0gPT4ge2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gY2hlY2tCdXR0b24oKSl9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcblxyXG5cclxufVxyXG4iXSwiZmlsZSI6ImluZGV4LmpzIn0=
