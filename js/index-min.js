"use strict";window.onload=(()=>{let e=0;const t=["#quiz__preload","#question1","#question2","#question3","#question4","#question5","#question6","#question7","#result","#getOffer"],c=["","Для какого объекта Вам необходима система видеонаблюдения?","Сколько камер Вы планируете установить?","Время хранения архива:","Дополнительные пожелания к системе видеонаблюдения:","Как срочно Вам нужна система?","Примерная площадь обекта ","Вам нужен готовый комплект или монтаж системы под ключ?"];function o(o){if("forward"==o){let c=document.querySelector("".concat(t[e]));n(7==e?c.parentElement.parentElement:c),e++;let o=document.querySelector("".concat(t[e]));1==e?r(o.parentElement.parentElement,"grid"):r(o,"flex")}else{{let c=document.querySelector("".concat(t[e]));n(1==e?c.parentElement.parentElement:c),e--;let o=document.querySelector("".concat(t[e]));7==e?r(o.parentElement.parentElement,"grid"):r(o,"flex")}}0<e<8&&(document.querySelector(".quiz__question-text").textContent=c[e],l())}function n(e){e.style.opacity=0,e.style.display="none"}function r(e,t){e.style.display=t,e.style.opacity=1}function l(){let c=document.querySelector(".quiz__button_forward");!function(e){let c=0,o=document.querySelector("".concat(t[e]));switch(e){case 1:let t=o.querySelectorAll(".question1__input");t.forEach(e=>{e.checked&&c++});break;case 2:let n=o.querySelectorAll(".range__slider");n.forEach(e=>{0!=e.value&&c++});break;case 3:let r=o.querySelectorAll(".custom-radio");r.forEach(e=>{e.checked&&c++});break;case 4:let l=o.querySelector("#sound_need_range"),u=o.querySelector("#reserve_need"),d=o.querySelector("#internet_need"),a=o.querySelector("#sound_need");!d.checked||u.checked||a.checked||c++,d.checked||!u.checked||a.checked||c++,d.checked&&u.checked&&!a.checked&&c++,d.checked&&!u.checked&&a.checked&&0!=l.value&&c++,!d.checked&&u.checked&&a.checked&&0!=l.value&&c++,d.checked&&u.checked&&a.checked&&0!=l.value&&c++,d.checked||u.checked||!a.checked||0==l.value||c++;break;case 5:let i=o.querySelectorAll(".custom-radio");i.forEach(e=>{e.checked&&c++});break;case 6:let s=o.querySelectorAll("input");s.forEach(e=>{0!=e.value&&c++});break;case 7:let q=o.querySelectorAll(".complectation__input");q.forEach(e=>{e.checked&&c++})}return c}(e)?c.disabled=!0:c.disabled=!1}function u(){document.querySelectorAll("input[type='radio']").forEach(e=>{e.checked?e.parentElement.classList.add("question1__item_active"):e.parentElement.classList.remove("question1__item_active")})}function d(e){let t=e.dataset.choise;document.querySelectorAll(".camera-count__item").forEach(e=>{e.style.display="none"}),document.querySelector(".camera-count__".concat(t)).style.display="flex"}function a(e){e.checked=!1}function i(e){e.nextSibling.innerHTML=e.value;let t=e.value/e.max*100,c="linear-gradient(90deg, rgba(3,81,145,1) ".concat(t,"%, rgba(128, 128, 128, 0.178) ").concat(t,"%)");e.style.background=c}function s(){let e=document.querySelector("#sound_need"),t=document.querySelector("#doppel__soundrecord");e.checked?t.classList.remove("doppel__soundrecord_hidden"):t.classList.add("doppel__soundrecord_hidden")}function q(){let e=document.querySelector(".fast__ownanswer");document.querySelector("#fast__own").checked?e.classList.remove("fast__ownanswer_hidden"):e.classList.add("fast__ownanswer_hidden")}document.querySelector("#sound_need").addEventListener("change",s),document.querySelectorAll(".fast__input").forEach(e=>{e.addEventListener("change",q)}),u(),document.querySelectorAll(".question1__input").forEach(e=>{e.addEventListener("change",function(){u(),document.querySelector(".question2").querySelectorAll(".range__slider").forEach(e=>{e.value=0,i(e)}),document.querySelector(".question3").querySelectorAll(".custom-radio").forEach(e=>{a(e)}),document.querySelector(".question4").querySelectorAll(".custom-check").forEach(e=>{!function(e){e.checked=!1}(e)}),document.querySelector(".question5").querySelectorAll(".custom-radio").forEach(e=>{a(e),q()}),d(this)})}),document.querySelectorAll(".range__slider").forEach(e=>{e.addEventListener("input",function(){i(this),l()})}),d(document.querySelector("#question1__house")),document.querySelector(".preload__button").onclick=(()=>o("forward")),document.querySelector(".quiz__button_forward").onclick=(()=>o("forward")),document.querySelector(".quiz__button_back").onclick=(()=>o("back")),function(){let e=document.querySelector(".quiz__question-body ");e.querySelectorAll('input[type="radio"]').forEach(e=>{e.addEventListener("change",()=>l())}),e.querySelectorAll('input[type="range"]').forEach(e=>{e.addEventListener("input",()=>l())}),e.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",()=>l())})}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm9ubG9hZCIsInNjcmVlbkNvdW50ZXIiLCJwYWdlcyIsInF1ZXN0aW9ucyIsIm5hdmlnYXRpb24iLCJkaXJlY3Rpb24iLCJjdXJyZW50UGFnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImhpZGUiLCJwYXJlbnRFbGVtZW50IiwibmV4dFBhZ2UiLCJzaG93IiwidGV4dENvbnRlbnQiLCJjaGVja0J1dHRvbiIsImVsZW0iLCJzdHlsZSIsIm9wYWNpdHkiLCJkaXNwbGF5IiwiZGlzcFByb3BlcnR5IiwiYnV0dG9uRm9yd2FyZCIsImlzVHJ1ZSIsInJhZGlvc1ExIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJyYWRpbyIsImNoZWNrZWQiLCJyYW5nZXNRMiIsInJhbmdlIiwidmFsdWUiLCJyYWRpb3NRMyIsInNvdW5kTmVlZElucHV0IiwicmVzZXJ2ZU5lZWQiLCJpbnRlcm5ldE5lZWQiLCJzb3VuZE5lZWQiLCJyYWRpb3NRNSIsImlucHV0c1E2IiwiaW5wdXQiLCJyYWRpb3NRNyIsImNoZWNrSXNDaG9zZW4iLCJkaXNhYmxlZCIsInJhZGlvQ2hlY2tBY3RpdmUiLCJpdGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic2hvd0N1cnJlbnRTcGhlcmVRMiIsImN1cnJlbnRTcGhlcmUiLCJkYXRhc2V0IiwiY2hvaXNlIiwiY291bnRlciIsInJlc2V0UmFkaW8iLCJyZWZyZXNoUmFuZ2UiLCJjdXJyZW50IiwibmV4dFNpYmxpbmciLCJpbm5lckhUTUwiLCJwZXJjZW50VmFsdWUiLCJtYXgiLCJjb2xvciIsImJhY2tncm91bmQiLCJjaGVja05lZWRTb3VuZCIsInJlY29yZENoZWNrYm94IiwidG9nZ2xlUmFuZ2UiLCJoYXNPd25BbnN3ZXIiLCJvd25BbnN3ZXJBcmVhIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrYm94IiwicmVzZXRDaGVja0JveCIsInRoaXMiLCJz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LHNCQUFzQitELFFBQVUsS0FBTW5FLEVBQVcsU0E2UTFFLFdBQ0UsSUFBSW9FLEVBQVdqRSxTQUFTQyxjQUFjLHlCQUN0QmdFLEVBQVNoRCxpQkFBaUIsdUJBQ2hDQyxRQUFRa0IsSUFDaEJBLEVBQUt1QixpQkFBaUIsU0FBVSxJQUFNbkQsT0FFeEJ5RCxFQUFTaEQsaUJBQWlCLHVCQUNoQ0MsUUFBUWtCLElBQ2hCQSxFQUFLdUIsaUJBQWlCLFFBQVMsSUFBTW5ELE9BRW5CeUQsRUFBU2hELGlCQUFpQiwwQkFDaENDLFFBQVFrQixJQUNwQkEsRUFBS3VCLGlCQUFpQixTQUFVLElBQU1uRCxPQXRUMUMwRCIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICBsZXQgc2NyZWVuQ291bnRlciA9IDA7XHJcbiAgICBjb25zdCBwYWdlcyA9IFtcclxuICAgICAgICAnI3F1aXpfX3ByZWxvYWQnLFxyXG4gICAgICAgICcjcXVlc3Rpb24xJyxcclxuICAgICAgICAnI3F1ZXN0aW9uMicsXHJcbiAgICAgICAgJyNxdWVzdGlvbjMnLFxyXG4gICAgICAgICcjcXVlc3Rpb240JyxcclxuICAgICAgICAnI3F1ZXN0aW9uNScsXHJcbiAgICAgICAgJyNxdWVzdGlvbjYnLFxyXG4gICAgICAgICcjcXVlc3Rpb243JyxcclxuICAgICAgICAnI3Jlc3VsdCcsXHJcbiAgICAgICAgJyNnZXRPZmZlcidcclxuICAgIF07XHJcbiAgICBjb25zdCBxdWVzdGlvbnMgPSBbXHJcbiAgICAgICAgJycsXHJcbiAgICAgICAgJ9CU0LvRjyDQutCw0LrQvtCz0L4g0L7QsdGK0LXQutGC0LAg0JLQsNC8INC90LXQvtCx0YXQvtC00LjQvNCwINGB0LjRgdGC0LXQvNCwINCy0LjQtNC10L7QvdCw0LHQu9GO0LTQtdC90LjRjz8nLFxyXG4gICAgICAgICfQodC60L7Qu9GM0LrQviDQutCw0LzQtdGAINCS0Ysg0L/Qu9Cw0L3QuNGA0YPQtdGC0LUg0YPRgdGC0LDQvdC+0LLQuNGC0Yw/JyxcclxuICAgICAgICAn0JLRgNC10LzRjyDRhdGA0LDQvdC10L3QuNGPINCw0YDRhdC40LLQsDonLFxyXG4gICAgICAgICfQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C1INC/0L7QttC10LvQsNC90LjRjyDQuiDRgdC40YHRgtC10LzQtSDQstC40LTQtdC+0L3QsNCx0LvRjtC00LXQvdC40Y86JyxcclxuICAgICAgICAn0JrQsNC6INGB0YDQvtGH0L3QviDQktCw0Lwg0L3Rg9C20L3QsCDRgdC40YHRgtC10LzQsD8nLFxyXG4gICAgICAgICfQn9GA0LjQvNC10YDQvdCw0Y8g0L/Qu9C+0YnQsNC00Ywg0L7QsdC10LrRgtCwICcsXHJcbiAgICAgICAgJ9CS0LDQvCDQvdGD0LbQtdC9INCz0L7RgtC+0LLRi9C5INC60L7QvNC/0LvQtdC60YIg0LjQu9C4INC80L7QvdGC0LDQtiDRgdC40YHRgtC10LzRiyDQv9C+0LQg0LrQu9GO0Yc/J1xyXG4gICAgXTtcclxuICAgIG5lZWRTb3VuZEV2ZW50KCk7XHJcbiAgICBmYXN0TGV2ZWxDaGFuZ2UoKTtcclxuICAgIHJhZGlvQ2hlY2tBY3RpdmUoKTtcclxuICAgIHJhZGlvT25DaGFuZ2UoKTtcclxuICAgIGZ1bmNTbGlkZXJzKCk7XHJcbiAgICBzaG93Q3VycmVudFNwaGVyZVEyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNxdWVzdGlvbjFfX2hvdXNlJykpO1xyXG4gICAgYWRkTmF2aWdhdGlvblRvQnV0dG9ucygpXHJcbiAgICBhZGRFdmVudE9uQWxsSW5wdXRzKCk7XHJcbiAgICBcclxuICAgIC8v0YTRg9C90LrRhtC40Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0aW9uKGRpcmVjdGlvbil7XHJcbiAgICAgICAgaWYoZGlyZWN0aW9uID09ICdmb3J3YXJkJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gNz9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIrKztcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSAxP3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCdiYWNrJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gMT9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXItLTtcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSA3P3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKDAgPCBzY3JlZW5Db3VudGVyIDwgOCl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hRdWVzdGlvbigpO1xyXG4gICAgICAgICAgICBjaGVja0J1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0L3QsNCy0LjQs9Cw0YbQuNC4INC90LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBhZGROYXZpZ2F0aW9uVG9CdXR0b25zKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRfX2J1dHRvbicpLm9uY2xpY2sgPSAoKSA9PiBuYXZpZ2F0aW9uKCdmb3J3YXJkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJykub25jbGljayA9ICgpID0+IG5hdmlnYXRpb24oJ2ZvcndhcmQnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVpel9fYnV0dG9uX2JhY2snKS5vbmNsaWNrID0gKCkgPT4gbmF2aWdhdGlvbignYmFjaycpO1xyXG4gICAgfVxyXG4gICAgLy/Qv9C+0LrQsNC30LDRgtGML9GB0LrRgNGL0YLRjCDRjdC70LXQvNC10L3RgiDQv9GA0Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBoaWRlKGVsZW0pe1xyXG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvdyhlbGVtLCBkaXNwUHJvcGVydHkpe1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IGRpc3BQcm9wZXJ0eTtcclxuICAgICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgfSAgICBcclxuICAgIC8v0J7QsdC90L7QstC40YLRjCDQstC+0L/RgNC+0YFcclxuICAgIGZ1bmN0aW9uIHJlZnJlc2hRdWVzdGlvbigpe1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbc2NyZWVuQ291bnRlcl07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v0LHQu9C+0LrQuNGA0L7QstC60LAv0YDQsNC30LHQu9C+0LrQuNGA0L7QstC60LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBjaGVja0J1dHRvbigpe1xyXG4gICAgICAgIGxldCBidXR0b25Gb3J3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJyk7XHJcbiAgICAgICAgaWYoIWNoZWNrSXNDaG9zZW4oc2NyZWVuQ291bnRlcikpe1xyXG4gICAgICAgICAgICBidXR0b25Gb3J3YXJkLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgYnV0dG9uRm9yd2FyZC5kaXNhYmxlZCA9IGZhbHNlOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL9C/0YDQvtCy0LXRgNC40YLRjCDQstGL0LHRgNCw0L0g0LvQuCDQstCw0YDQuNCw0L3RgiDQvdCwINGC0LXQutGD0YnQtdC5INGB0YLRgNCw0L3QuNGG0LVcclxuICAgIGZ1bmN0aW9uIGNoZWNrSXNDaG9zZW4oc2NyZWVuQ291bnRlcil7XHJcbiAgICAgICAgbGV0IGlzVHJ1ZSA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuXHJcbiAgICAgICAgc3dpdGNoKHNjcmVlbkNvdW50ZXIpe1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTEgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24xX19pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgcmFkaW9zUTEuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmFkaW8uY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGxldCByYW5nZXNRMiA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5nZV9fc2xpZGVyJyk7XHJcbiAgICAgICAgICAgICAgICByYW5nZXNRMi5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYW5nZS52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTMgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgICAgICAgICByYWRpb3NRMy5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYWRpby5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZE5lZWRJbnB1dCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkX3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzZXJ2ZU5lZWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjcmVzZXJ2ZV9uZWVkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJuZXROZWVkID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI2ludGVybmV0X25lZWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBzb3VuZE5lZWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjc291bmRfbmVlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgIXJlc2VydmVOZWVkLmNoZWNrZWQgJiYgIXNvdW5kTmVlZC5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmICFzb3VuZE5lZWQuY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmICFzb3VuZE5lZWQuY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiAhcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiByZXNlcnZlTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZElucHV0LnZhbHVlICE9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiAhcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlvc1E1ID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1yYWRpbycpO1xyXG4gICAgICAgICAgICAgICAgcmFkaW9zUTUuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmFkaW8uY2hlY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OiBcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dHNRNiA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dHNRNi5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihpbnB1dC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaW9zUTcgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGxlY3RhdGlvbl9faW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIHJhZGlvc1E3LmZvckVhY2gocmFkaW8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJhZGlvLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBpc1RydWU7XHJcbiAgICAgICAgICAgICB9XHJcbi8v0YDQsNC00LjQvtC60L3QvtC/0LrQuCDQktC+0L/RgNC+0YEgMVxyXG4vL9C/0YDQvtCy0LXRgNC60LAg0YDQsNC00LjQvtC60L3QvtC/0L7QuiDQvdCwIGNoZWNrZWQgUTEgLSBxdWVzdGlvbiAxXHJcbmZ1bmN0aW9uIHJhZGlvQ2hlY2tBY3RpdmUoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFt0eXBlPSdyYWRpbyddYCk7XHJcbiAgICByYWRpb0l0ZW1zUTEuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpZihpdGVtLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncXVlc3Rpb24xX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC40LLQtdC90YLQsCDQv9C+INC40LfQvNC10L3QtdC90LjRjiDRgNCw0LTQuNC+INC90LAgMSDRgdGC0YDQsNC90LjRhtC1XHJcbmZ1bmN0aW9uIHJhZGlvT25DaGFuZ2UoKXtcclxuICAgIGxldCByYWRpb0l0ZW1zUTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb24xX19pbnB1dCcpO1xyXG4gICAgcmFkaW9JdGVtc1ExLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFJhZGlvID0gdGhpcztcclxuICAgICAgICAgICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICByZXNldFZhbHVlcygpO1xyXG4gICAgICAgICAgICBzaG93Q3VycmVudFNwaGVyZVEyKGN1cnJlbnRSYWRpbyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuLy/Qv9C+0LrQsNC30LDRgtGMINCy0L4gMiDQstC+0L/RgNC+0YHQtSDQvdGD0LbQvdGD0Y4g0YHRhNC10YDRgyDQv9GA0LjQvNC10L3QtdC90LjRjywg0YHQutGA0YvQsiDQvdC10L3Rg9C20L3QvtC1XHJcbmZ1bmN0aW9uIHNob3dDdXJyZW50U3BoZXJlUTIoaW5wdXQpe1xyXG4gICAgbGV0IGN1cnJlbnRTcGhlcmUgPSBpbnB1dC5kYXRhc2V0LmNob2lzZTtcclxuICAgIGxldCBjYW1Db3VudGVyc1EyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbWVyYS1jb3VudF9faXRlbScpO1xyXG4gICAgY2FtQ291bnRlcnNRMi5mb3JFYWNoKGNvdW50ZXIgPT4ge1xyXG4gICAgICAgIGNvdW50ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0pXHJcbiAgICBsZXQgY3VycmVudENvdW50ZXJRMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jYW1lcmEtY291bnRfXyR7Y3VycmVudFNwaGVyZX1gKTtcclxuICAgIGN1cnJlbnRDb3VudGVyUTIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIFxyXG59XHJcbi8v0YHQsdGA0L7RgdC40YLRjCDRgdGH0LXRgtGH0LjQutC4XHJcbmZ1bmN0aW9uIHJlc2V0VmFsdWVzKCl7XHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgMiDRgdGH0LXRgtGH0LjQutC4INC60LDQvNC10YAg0YPQstC10YHRgtC4INC90LAgMFxyXG4gICAgICAgIGxldCBxMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjInKTtcclxuICAgICAgICBsZXQgcmFuZ2VzID0gcTIucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHJhbmdlLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHJhbmdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDMg0YHQsdGA0L7RgdC40YLRjCByYWRpbyDQvdCwINC/0LXRgNCy0YvQuSDQstCw0YDQuNCw0L3RglxyXG4gICAgICAgIGxldCBxMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWVzdGlvbjMnKTtcclxuICAgICAgICBsZXQgcmFkaW9zUTMgPSBxMy5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgcmFkaW9zUTMuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgIHJlc2V0UmFkaW8ocmFkaW8pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/QstC+0L/RgNC+0YEgNCDRgdCx0YDQvtGB0LjRgtGMINGH0LXQutCx0L7QutGB0YsgXHJcbiAgICAgICAgbGV0IHE0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNCcpO1xyXG4gICAgICAgIGxldCBjaGVja2JveGVzUTQgPSBxNC5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLWNoZWNrJyk7XHJcbiAgICAgICAgY2hlY2tib3hlc1E0LmZvckVhY2goY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICByZXNldENoZWNrQm94KGNoZWNrYm94KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v0LLQvtC/0YDQvtGBIDUg0YHQsdGA0L7RgdC40YLRjCDRgNCw0LTQuNC+XHJcbiAgICAgICAgbGV0IHE1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uNScpO1xyXG4gICAgICAgIGxldCByYWRpb3NRNSA9IHE1LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tcmFkaW8nKTtcclxuICAgICAgICByYWRpb3NRNS5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgcmVzZXRSYWRpbyhyYWRpbyk7XHJcbiAgICAgICAgICAgIGhhc093bkFuc3dlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbn1cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINC90LAg0YHQu9Cw0LnQtNC10YBcclxuZnVuY3Rpb24gZnVuY1NsaWRlcnMoKXtcclxuICAgIGxldCBzbGlkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgIHNsaWRlcnMuZm9yRWFjaChzbGlkZXIgPT4ge1xyXG4gICAgICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hSYW5nZSh0aGlzKTtcclxuICAgICAgICAgICAgY2hlY2tCdXR0b24oKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcbi8v0YHQsdGA0L7RgSDRgNCw0LTQuNC+XHJcbmZ1bmN0aW9uIHJlc2V0UmFkaW8oZWxlbSl7XHJcbiAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcclxufVxyXG4vL3Jlc2V0IGNoZWNrYm94XHJcbmZ1bmN0aW9uIHJlc2V0Q2hlY2tCb3goZWxlbSl7XHJcbiAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcclxufVxyXG4vL9C+0LHQvdC+0LLQuNGC0Ywg0L/QvtC70LfRg9C90L7QulxyXG5mdW5jdGlvbiByZWZyZXNoUmFuZ2UoY3VycmVudCl7XHJcbiAgICBjdXJyZW50Lm5leHRTaWJsaW5nLmlubmVySFRNTCA9IGN1cnJlbnQudmFsdWU7XHJcbiAgICBsZXQgcGVyY2VudFZhbHVlID0gKGN1cnJlbnQudmFsdWUvY3VycmVudC5tYXgpKjEwMDtcclxuICAgIGxldCBjb2xvciA9IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMyw4MSwxNDUsMSkgJHtwZXJjZW50VmFsdWV9JSwgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjE3OCkgJHtwZXJjZW50VmFsdWV9JSlgXHJcbiAgICBjdXJyZW50LnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcclxufVxyXG4vL9CS0L7Qv9GA0L7RgSA0INC90YPQttC10L0g0LfQstGD0LpcclxuZnVuY3Rpb24gbmVlZFNvdW5kRXZlbnQoKXtcclxuICAgIGxldCByZWNvcmRDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkJyk7XHJcbiAgICByZWNvcmRDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGVja05lZWRTb3VuZClcclxufVxyXG5mdW5jdGlvbiBjaGVja05lZWRTb3VuZCgpe1xyXG4gICAgbGV0IHJlY29yZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdW5kX25lZWQnKTtcclxuICAgIGxldCB0b2dnbGVSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb3BwZWxfX3NvdW5kcmVjb3JkJyk7XHJcbiAgICBpZihyZWNvcmRDaGVja2JveC5jaGVja2VkKXtcclxuICAgICAgICB0b2dnbGVSYW5nZS5jbGFzc0xpc3QucmVtb3ZlKCdkb3BwZWxfX3NvdW5kcmVjb3JkX2hpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB0b2dnbGVSYW5nZS5jbGFzc0xpc3QuYWRkKCdkb3BwZWxfX3NvdW5kcmVjb3JkX2hpZGRlbicpO1xyXG4gICAgfVxyXG59XHJcbi8v0JLQvtC/0YDQvtGBNSDRgdCy0L7QuSDQstCw0YDQuNCw0L3RgiDQvtGC0LLQtdGC0LBcclxuICAgIC8v0L/RgNC+0LLQtdGA0LjRgtGMINGH0LXQuiDRgyDRgNCw0LTQuNC+INGB0LLQvtC5INCy0LDRgNC40LDQvdGCLCDQtdGB0LvQuCDQtNCwLCDRgtC+INGD0LTQsNC70LjRgtGMINC60LvQsNGB0YEg0YHQutGA0YvRgtC40Y8sINC10YHQu9C4INC90LXRgiAtINC00L7QsdCw0LLQuNGC0YxcclxuICAgIGZ1bmN0aW9uIGhhc093bkFuc3dlcigpe1xyXG4gICAgICAgIGxldCBvd25BbnN3ZXJBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhc3RfX293bmFuc3dlcicpO1xyXG4gICAgICAgIGxldCBoYXNPd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmFzdF9fb3duJyk7XHJcbiAgICAgICAgaWYoaGFzT3duLmNoZWNrZWQpe1xyXG4gICAgICAgICAgICBvd25BbnN3ZXJBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ2Zhc3RfX293bmFuc3dlcl9oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgb3duQW5zd2VyQXJlYS5jbGFzc0xpc3QuYWRkKCdmYXN0X19vd25hbnN3ZXJfaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/QvdCw0LLQtdGB0LjRgtGMINGN0YLRgyDRhNGD0L3QutGG0LjRjiDQvdCwINC40LfQvNC10L3QtdC90LjQtSDQstGB0LXRhSDRhy/QsSDQsiDQs9GA0YPQv9C/0LVcclxuICAgIGZ1bmN0aW9uIGZhc3RMZXZlbENoYW5nZSgpe1xyXG4gICAgICAgIGxldCByYWRpb0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmZhc3RfX2lucHV0YCk7XHJcbiAgICAgICAgcmFkaW9JdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhc093bkFuc3dlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v0L7QsdGJ0LjQuSDQuNCy0LXQvdGCINC90LAg0LLRgdC1INC40L3Qv9GD0YLRiyDQstC+0L/RgNC+0YHQvtCyIGNoZWNrQnV0dG9uKCkgLSDQv9GA0L7QstC10YDQuNGC0YwsIFxyXG4gICAgLy/QtdGB0YLRjCDQu9C4INCy0YvQsdGA0LDQvdC90YvQtSDQuCDQstCy0LXQtNC10L3QvdGL0LUg0LfQvdCw0YfQtdC90LjRjyDQuCDQtdGB0LvQuCDQtdGB0YLRjCxcclxuICAgIC8v0Lgg0LXRgdC70Lgg0LXRgdGC0YwgLSDRgNCw0LfQsdC70L7QutC40YDQvtCy0LDRgtGMINC60L3QvtC/0LrRg1xyXG4gICAgLy/QuNGJ0LXQvCDRh9C10YDQtdC3INGA0L7QtNC40YLQtdC70Y8gLnF1aXpfX3F1ZXN0aW9uLWJvZHksINGH0YLQvtCxINC90LUg0LfQsNGG0LXQv9C40YLRjCDRgdGC0YDQsNC90LjRhtGDINGBINGE0L7RgNC80L7QuVxyXG4gICAgZnVuY3Rpb24gYWRkRXZlbnRPbkFsbElucHV0cygpe1xyXG4gICAgICAgIGxldCBxdWl6Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi1ib2R5ICcpO1xyXG4gICAgICAgIGxldCBhbGxSYWRpb3MgPSBxdWl6Qm9keS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxuICAgICAgICBhbGxSYWRpb3MuZm9yRWFjaChpdGVtID0+IHtpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IGNoZWNrQnV0dG9uKCkpfSk7XHJcbiAgICAgICAgbGV0IGFsbFJhbmdlcyA9IHF1aXpCb2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYW5nZVwiXScpO1xyXG4gICAgICAgIGFsbFJhbmdlcy5mb3JFYWNoKGl0ZW0gPT4ge2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiBjaGVja0J1dHRvbigpKX0pO1xyXG4gICAgICAgIGxldCBhbGxDaGVja2JveGVzID0gcXVpekJvZHkucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbiAgICAgICAgYWxsQ2hlY2tib3hlcy5mb3JFYWNoKGl0ZW0gPT4ge2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gY2hlY2tCdXR0b24oKSl9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcblxyXG5cclxufVxyXG4iXSwiZmlsZSI6ImluZGV4LW1pbi5qcyJ9
