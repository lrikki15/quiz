"use strict";window.onload=(()=>{let e=0;const t=["#quiz__preload","#object","#location","#cameracount","#archieve","#doppel","#howfast","#square","#complectation","#result","#getOffer"],c=["","Для какого объекта Вам необходима система видеонаблюдения?","Где находится объект?","Сколько камер Вы планируете установить?","Время хранения архива:","Дополнительные пожелания к системе видеонаблюдения:","Как срочно Вам нужна система?","Примерная площадь объекта","Вам нужен готовый комплект или монтаж системы под ключ?"];function r(r){if("forward"==r){let c=document.querySelector("".concat(t[e]));o(7==e?c.parentElement.parentElement:c),e++;let r=document.querySelector("".concat(t[e]));1==e?l(r.parentElement.parentElement,"grid"):l(r,"flex")}else{{let c=document.querySelector("".concat(t[e]));o(1==e?c.parentElement.parentElement:c),e--;let r=document.querySelector("".concat(t[e]));7==e?l(r.parentElement.parentElement,"grid"):l(r,"flex")}}0<e<9&&(document.querySelector(".quiz__question-text").textContent=c[e],n())}function o(e){e.style.opacity=0,e.style.display="none"}function l(e,t){e.style.display=t,e.style.opacity=1}function n(){let c=document.querySelector(".quiz__button_forward");!function(e){let c=0,r=document.querySelector("".concat(t[e]));switch(t[e]){case"#object":let o=r.querySelectorAll(".object__input");o.forEach(e=>{e.checked&&c++});break;case"#location":let l=r.querySelectorAll(".location__input");l.forEach(e=>{e.checked&&c++});break;case"#cameracount":let n=r.querySelectorAll(".range__slider");n.forEach(e=>{0!=e.value&&c++});break;case"#archieve":let a=r.querySelectorAll(".custom-radio");a.forEach(e=>{e.checked&&c++});break;case"#doppel":let u=r.querySelector("#sound_need_range"),d=r.querySelector("#reserve_need"),i=r.querySelector("#internet_need"),s=r.querySelector("#sound_need");!i.checked||d.checked||s.checked||c++,i.checked||!d.checked||s.checked||c++,i.checked&&d.checked&&!s.checked&&c++,i.checked&&!d.checked&&s.checked&&0!=u.value&&c++,!i.checked&&d.checked&&s.checked&&0!=u.value&&c++,i.checked&&d.checked&&s.checked&&0!=u.value&&c++,i.checked||d.checked||!s.checked||0==u.value||c++;break;case"#howfast":let _=r.querySelector("#fast_high"),q=r.querySelector("#fast_middle"),h=r.querySelector("#fast_low"),y=r.querySelector("#fast_own"),m=r.querySelector("#fast_area");(_.checked||q.checked||h.checked||y.checked&&""!=m.value)&&c++;break;case"#square":r.querySelectorAll("input");let S=r.querySelector("#sqare__perimetral"),f=r.querySelector("#square-object-long"),p=r.querySelector("#square-object-width"),k=r.querySelector("#square-perimeter-long"),E=r.querySelector("#square-perimeter-width");S.classList.contains("square__perimetral_hidden")&&0!=f.value&&0!=p&&c++,S.classList.contains("square__perimetral_hidden")||0!=f.value&&0!=p&&0!=k.value&&0!=E.value&&c++;break;case"complectation":let v=r.querySelectorAll(".complectation__input");v.forEach(e=>{e.checked&&c++})}return c}(e)?c.disabled=!0:c.disabled=!1}function a(){document.querySelectorAll("input[type='radio']").forEach(e=>{e.checked?e.parentElement.classList.add("object__item_active"):e.parentElement.classList.remove("object__item_active")})}function u(e){let t=e.dataset.choise;document.querySelectorAll(".camera-count__item").forEach(e=>{e.style.display="none"}),document.querySelector(".camera-count__".concat(t)).style.display="flex"}function d(){let e=document.querySelector("#cameracount").querySelectorAll(".perimeter"),t=document.querySelector("#sqare__perimetral"),c=0;if(e.forEach(e=>{0!=e.value&&c++}),0!=c)t.classList.remove("square__perimetral_hidden");else{t.querySelectorAll("input").forEach(e=>{e.value=0,s(e)}),t.classList.add("square__perimetral_hidden")}}function i(e){e.checked=!1}function s(e){e.nextSibling.innerHTML=e.value;let t=e.value/e.max*100,c="linear-gradient(90deg, rgba(3,81,145,1) ".concat(t,"%, rgba(128, 128, 128, 0.178) ").concat(t,"%)");e.style.background=c}function _(){let e=document.querySelector("#sound_need"),t=document.querySelector("#doppel__soundrecord"),c=document.querySelector("#sound_need_range");e.checked?t.classList.remove("doppel__soundrecord_hidden"):(t.classList.add("doppel__soundrecord_hidden"),c.value=0,s(c))}function q(){let e=document.querySelector(".fast__ownanswer");document.querySelector("#fast_own").checked?e.classList.remove("fast__ownanswer_hidden"):e.classList.add("fast__ownanswer_hidden")}document.querySelector("#sound_need").addEventListener("change",_),document.querySelectorAll(".fast__input").forEach(e=>{e.addEventListener("change",q)}),a(),document.querySelectorAll(".object__input").forEach(e=>{e.addEventListener("change",function(){a(),function(){document.querySelector(".camera-count").querySelectorAll(".range__slider").forEach(e=>{e.value=0,s(e)}),document.querySelector("#location").querySelectorAll(".custom-radio").forEach(e=>{i(e)}),document.querySelector(".archieve").querySelectorAll(".custom-radio").forEach(e=>{i(e)});let e=document.querySelector(".doppel");e.querySelectorAll(".custom-check").forEach(e=>{!function(e){e.checked=!1}(e)});let t=e.querySelector("#sound_need_range");t.value=0,s(t),_(),document.querySelector(".fast").querySelectorAll(".custom-radio").forEach(e=>{i(e),q()}),document.querySelector("#square").querySelectorAll(".range-slider").forEach(e=>e.value=0)}(),u(this),d()})}),document.querySelectorAll(".range__slider").forEach(e=>{e.addEventListener("input",function(){s(this),n()})}),u(document.querySelector("#object__house")),document.querySelector(".preload__button").onclick=(()=>r("forward")),document.querySelector(".quiz__button_forward").onclick=(()=>r("forward")),document.querySelector(".quiz__button_back").onclick=(()=>r("back")),function(){let e=document.querySelector(".quiz__question-body ");e.querySelectorAll('input[type="radio"]').forEach(e=>{e.addEventListener("change",()=>n())}),e.querySelectorAll('input[type="range"]').forEach(e=>{e.addEventListener("input",()=>n())}),e.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",()=>n())})}(),function(){let e=document.querySelector("#cameracount").querySelectorAll(".perimeter");document.querySelector("#sqare__perimetral");e.forEach(e=>{e.addEventListener("input",d)})}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm9ubG9hZCIsInNjcmVlbkNvdW50ZXIiLCJwYWdlcyIsInF1ZXN0aW9ucyIsIm5hdmlnYXRpb24iLCJkaXJlY3Rpb24iLCJjdXJyZW50UGFnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmNhdCIsImhpZGUiLCJwYXJlbnRFbGVtZW50IiwibmV4dFBhZ2UiLCJzaG93IiwidGV4dENvbnRlbnQiLCJjaGVja0J1dHRvbiIsImVsZW0iLCJzdHlsZSIsIm9wYWNpdHkiLCJkaXNwbGF5IiwiZGlzcFByb3BlcnR5IiwiYnV0dG9uRm9yd2FyZCIsImlzVHJ1ZSIsIm9iamVjdFJhZGlvcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwicmFkaW8iLCJjaGVja2VkIiwibG9jYXRpb25SYWRpb3MiLCJjYW1lcmFjb3VudFJhbmdlcyIsInJhbmdlIiwidmFsdWUiLCJhcmNoaWV2ZVJhZGlvcyIsInNvdW5kTmVlZElucHV0IiwicmVzZXJ2ZU5lZWQiLCJpbnRlcm5ldE5lZWQiLCJzb3VuZE5lZWQiLCJmYXN0SGlnaCIsImZhc3RNaWQiLCJmYXN0TG93IiwiZmFzdE93biIsImZhc3RPd25GaWVsZCIsInNxdWFyZVBlcmltZXRlciIsInNxdWFyZU9iamVjdExvbmciLCJzcXVhcmVPYmplY3RXaWR0aCIsInNxdWFyZVBlcmltZXRlckxvbmciLCJzcXVhcmVQZXJpbWV0ZXJXaWR0aCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY29tcGxlY3RhdGlvblJhZGlvcyIsImNoZWNrSXNDaG9zZW4iLCJkaXNhYmxlZCIsInJhZGlvQ2hlY2tBY3RpdmUiLCJpdGVtIiwiYWRkIiwicmVtb3ZlIiwic2hvd0N1cnJlbnRTcGhlcmUiLCJpbnB1dCIsImN1cnJlbnRTcGhlcmUiLCJkYXRhc2V0IiwiY2hvaXNlIiwiY291bnRlciIsInNob3dQZXJpbWV0ZXIiLCJwZXJpbWV0ZXJSYW5nZXMiLCJzcWFyZVBlcmltZXRlciIsInBlcmltZXRlckhhcyIsInJlZnJlc2hSYW5nZSIsInJlc2V0UmFkaW8iLCJjdXJyZW50IiwibmV4dFNpYmxpbmciLCJpbm5lckhUTUwiLCJwZXJjZW50VmFsdWUiLCJtYXgiLCJjb2xvciIsImJhY2tncm91bmQiLCJjaGVja05lZWRTb3VuZCIsInJlY29yZENoZWNrYm94IiwidG9nZ2xlUmFuZ2UiLCJzb3VuZE5lZWRSYW5nZSIsImhhc093bkFuc3dlciIsIm93bkFuc3dlckFyZWEiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9wcGVsIiwiY2hlY2tib3giLCJyZXNldENoZWNrQm94IiwicmFuZ2VEb3BwZWwiLCJyZXNldFZhbHVlcyIsInRoaXMiLCJzbGlkZXIiLCJvbmNsaWNrIiwicXVpekJvZHkiLCJhZGRFdmVudE9uQWxsSW5wdXRzIiwiYWRkU2hvd1BlcmltZXRlciJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQUEsT0FBT0MsT0FBUyxNQUNkLElBQUlDLEVBQWdCLEVBQ3BCLE1BQU1DLEVBQVEsQ0FBQyxpQkFBa0IsVUFBVyxZQUFhLGVBQWdCLFlBQWEsVUFBVyxXQUFZLFVBQVcsaUJBQWtCLFVBQVcsYUFDL0lDLEVBQVksQ0FBQyxHQUFJLDZEQUE4RCx3QkFBeUIsMENBQTJDLHlCQUEwQixzREFBdUQsZ0NBQWlDLDRCQUE2QiwyREFXeFMsU0FBU0MsRUFBV0MsR0FDbEIsR0FBaUIsV0FBYkEsRUFBd0IsQ0FDMUIsSUFBSUMsRUFBY0MsU0FBU0MsY0FBYyxHQUFHQyxPQUFPUCxFQUFNRCxLQUNwQ1MsRUFBSixHQUFqQlQsRUFBMEJLLEVBQVlLLGNBQWNBLGNBQXNCTCxHQUMxRUwsSUFDQSxJQUFJVyxFQUFXTCxTQUFTQyxjQUFjLEdBQUdDLE9BQU9QLEVBQU1ELEtBQ3JDLEdBQWpCQSxFQUFxQlksRUFBS0QsRUFBU0QsY0FBY0EsY0FBZSxRQUFVRSxFQUFLRCxFQUFVLFlBQ3BGLENBQVksQ0FDakIsSUFBSU4sRUFBY0MsU0FBU0MsY0FBYyxHQUFHQyxPQUFPUCxFQUFNRCxLQUNwQ1MsRUFBSixH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QzVDdUQsRUFBZ0J0QyxRQUFRSyxJQUN0QkEsRUFBTW1ELGlCQUFpQixRQUFTbkIsS0E1TnBDOEIiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgbGV0IHNjcmVlbkNvdW50ZXIgPSAwO1xyXG4gICAgY29uc3QgcGFnZXMgPSBbXHJcbiAgICAgICAgJyNxdWl6X19wcmVsb2FkJyxcclxuICAgICAgICAnI29iamVjdCcsXHJcbiAgICAgICAgJyNsb2NhdGlvbicsXHJcbiAgICAgICAgJyNjYW1lcmFjb3VudCcsXHJcbiAgICAgICAgJyNhcmNoaWV2ZScsXHJcbiAgICAgICAgJyNkb3BwZWwnLFxyXG4gICAgICAgICcjaG93ZmFzdCcsXHJcbiAgICAgICAgJyNzcXVhcmUnLFxyXG4gICAgICAgICcjY29tcGxlY3RhdGlvbicsXHJcbiAgICAgICAgJyNyZXN1bHQnLFxyXG4gICAgICAgICcjZ2V0T2ZmZXInXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcXVlc3Rpb25zID0gW1xyXG4gICAgICAgICcnLFxyXG4gICAgICAgICfQlNC70Y8g0LrQsNC60L7Qs9C+INC+0LHRitC10LrRgtCwINCS0LDQvCDQvdC10L7QsdGF0L7QtNC40LzQsCDRgdC40YHRgtC10LzQsCDQstC40LTQtdC+0L3QsNCx0LvRjtC00LXQvdC40Y8/JyxcclxuICAgICAgICAn0JPQtNC1INC90LDRhdC+0LTQuNGC0YHRjyDQvtCx0YrQtdC60YI/JyxcclxuICAgICAgICAn0KHQutC+0LvRjNC60L4g0LrQsNC80LXRgCDQktGLINC/0LvQsNC90LjRgNGD0LXRgtC1INGD0YHRgtCw0L3QvtCy0LjRgtGMPycsXHJcbiAgICAgICAgJ9CS0YDQtdC80Y8g0YXRgNCw0L3QtdC90LjRjyDQsNGA0YXQuNCy0LA6JyxcclxuICAgICAgICAn0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDQv9C+0LbQtdC70LDQvdC40Y8g0Log0YHQuNGB0YLQtdC80LUg0LLQuNC00LXQvtC90LDQsdC70Y7QtNC10L3QuNGPOicsXHJcbiAgICAgICAgJ9Ca0LDQuiDRgdGA0L7Rh9C90L4g0JLQsNC8INC90YPQttC90LAg0YHQuNGB0YLQtdC80LA/JyxcclxuICAgICAgICAn0J/RgNC40LzQtdGA0L3QsNGPINC/0LvQvtGJ0LDQtNGMINC+0LHRitC10LrRgtCwJyxcclxuICAgICAgICAn0JLQsNC8INC90YPQttC10L0g0LPQvtGC0L7QstGL0Lkg0LrQvtC80L/Qu9C10LrRgiDQuNC70Lgg0LzQvtC90YLQsNC2INGB0LjRgdGC0LXQvNGLINC/0L7QtCDQutC70Y7Rhz8nXHJcbiAgICBdO1xyXG4gICAgbmVlZFNvdW5kRXZlbnQoKTtcclxuICAgIGZhc3RMZXZlbENoYW5nZSgpO1xyXG4gICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgcmFkaW9PbkNoYW5nZSgpO1xyXG4gICAgZnVuY1NsaWRlcnMoKTtcclxuICAgIHNob3dDdXJyZW50U3BoZXJlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvYmplY3RfX2hvdXNlJykpO1xyXG4gICAgYWRkTmF2aWdhdGlvblRvQnV0dG9ucygpXHJcbiAgICBhZGRFdmVudE9uQWxsSW5wdXRzKCk7XHJcbiAgICBhZGRTaG93UGVyaW1ldGVyKCk7XHJcbiAgICBcclxuICAgIC8v0YTRg9C90LrRhtC40Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0aW9uKGRpcmVjdGlvbil7XHJcbiAgICAgICAgaWYoZGlyZWN0aW9uID09ICdmb3J3YXJkJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gNz9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIrKztcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSAxP3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCdiYWNrJyl7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXIgPT0gMT9oaWRlKGN1cnJlbnRQYWdlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk6aGlkZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHNjcmVlbkNvdW50ZXItLTtcclxuICAgICAgICAgICAgbGV0IG5leHRQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtwYWdlc1tzY3JlZW5Db3VudGVyXX1gKTtcclxuICAgICAgICAgICAgc2NyZWVuQ291bnRlciA9PSA3P3Nob3cobmV4dFBhZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LCAnZ3JpZCcpOnNob3cobmV4dFBhZ2UsICdmbGV4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKDAgPCBzY3JlZW5Db3VudGVyIDwgOSl7XHJcbiAgICAgICAgICAgIHJlZnJlc2hRdWVzdGlvbigpO1xyXG4gICAgICAgICAgICBjaGVja0J1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0L3QsNCy0LjQs9Cw0YbQuNC4INC90LAg0LrQvdC+0L/QutC4XHJcbiAgICBmdW5jdGlvbiBhZGROYXZpZ2F0aW9uVG9CdXR0b25zKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRfX2J1dHRvbicpLm9uY2xpY2sgPSAoKSA9PiBuYXZpZ2F0aW9uKCdmb3J3YXJkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX2J1dHRvbl9mb3J3YXJkJykub25jbGljayA9ICgpID0+IG5hdmlnYXRpb24oJ2ZvcndhcmQnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVpel9fYnV0dG9uX2JhY2snKS5vbmNsaWNrID0gKCkgPT4gbmF2aWdhdGlvbignYmFjaycpO1xyXG4gICAgfVxyXG4gICAgLy/Qv9C+0LrQsNC30LDRgtGML9GB0LrRgNGL0YLRjCDRjdC70LXQvNC10L3RgiDQv9GA0Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XHJcbiAgICBmdW5jdGlvbiBoaWRlKGVsZW0pe1xyXG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvdyhlbGVtLCBkaXNwUHJvcGVydHkpe1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9IGRpc3BQcm9wZXJ0eTtcclxuICAgICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgfSAgICBcclxuICAgIC8v0J7QsdC90L7QstC40YLRjCDQstC+0L/RgNC+0YFcclxuICAgIGZ1bmN0aW9uIHJlZnJlc2hRdWVzdGlvbigpe1xyXG4gICAgICAgIGxldCBxdWVzdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19xdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbc2NyZWVuQ291bnRlcl07XHJcbiAgICB9XHJcbiAgICAvL9Cx0LvQvtC60LjRgNC+0LLQutCwL9GA0LDQt9Cx0LvQvtC60LjRgNC+0LLQutCwINC60L3QvtC/0LrQuFxyXG4gICAgZnVuY3Rpb24gY2hlY2tCdXR0b24oKXtcclxuICAgICAgICBsZXQgYnV0dG9uRm9yd2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWl6X19idXR0b25fZm9yd2FyZCcpO1xyXG4gICAgICAgIGlmKCFjaGVja0lzQ2hvc2VuKHNjcmVlbkNvdW50ZXIpKXtcclxuICAgICAgICAgICAgYnV0dG9uRm9yd2FyZC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGJ1dHRvbkZvcndhcmQuZGlzYWJsZWQgPSBmYWxzZTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/Qv9GA0L7QstC10YDQuNGC0Ywg0LLRi9Cx0YDQsNC9INC70Lgg0LLQsNGA0LjQsNC90YIg0L3QsCDRgtC10LrRg9GJ0LXQuSDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICBmdW5jdGlvbiBjaGVja0lzQ2hvc2VuKHNjcmVlbkNvdW50ZXIpe1xyXG4gICAgICAgIGxldCBpc1RydWUgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cGFnZXNbc2NyZWVuQ291bnRlcl19YCk7XHJcbiAgICAgICAgc3dpdGNoKHBhZ2VzW3NjcmVlbkNvdW50ZXJdKXtcclxuICAgICAgICAgICAgY2FzZSAnI29iamVjdCc6XHJcbiAgICAgICAgICAgICAgICBsZXQgb2JqZWN0UmFkaW9zID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLm9iamVjdF9faW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIG9iamVjdFJhZGlvcy5mb3JFYWNoKHJhZGlvID0+IHtpZihyYWRpby5jaGVja2VkKSBpc1RydWUrK30pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICBjYXNlICcjbG9jYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uUmFkaW9zID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLmxvY2F0aW9uX19pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb25SYWRpb3MuZm9yRWFjaChyYWRpbyA9PiB7aWYocmFkaW8uY2hlY2tlZCkgaXNUcnVlKyt9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcjY2FtZXJhY291bnQnOlxyXG4gICAgICAgICAgICAgICAgbGV0IGNhbWVyYWNvdW50UmFuZ2VzID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgICAgICAgICAgICAgIGNhbWVyYWNvdW50UmFuZ2VzLmZvckVhY2gocmFuZ2UgPT4ge2lmKHJhbmdlLnZhbHVlICE9IDApIGlzVHJ1ZSsrO30pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyNhcmNoaWV2ZSc6XHJcbiAgICAgICAgICAgICAgICBsZXQgYXJjaGlldmVSYWRpb3MgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgICAgICAgICBhcmNoaWV2ZVJhZGlvcy5mb3JFYWNoKHJhZGlvID0+IHtpZihyYWRpby5jaGVja2VkKWlzVHJ1ZSsrO30pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyNkb3BwZWwnOlxyXG4gICAgICAgICAgICAgICAgbGV0IHNvdW5kTmVlZElucHV0ID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI3NvdW5kX25lZWRfcmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXNlcnZlTmVlZCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNyZXNlcnZlX25lZWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnRlcm5ldE5lZWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjaW50ZXJuZXRfbmVlZCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNvdW5kTmVlZCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkJyk7XHJcbiAgICAgICAgICAgICAgICBpZihpbnRlcm5ldE5lZWQuY2hlY2tlZCAmJiAhcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiAhc291bmROZWVkLmNoZWNrZWQpIGlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYoIWludGVybmV0TmVlZC5jaGVja2VkICYmIHJlc2VydmVOZWVkLmNoZWNrZWQgJiYgIXNvdW5kTmVlZC5jaGVja2VkKSBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIGlmKGludGVybmV0TmVlZC5jaGVja2VkICYmIHJlc2VydmVOZWVkLmNoZWNrZWQgJiYgIXNvdW5kTmVlZC5jaGVja2VkKSBpc1RydWUrKztcclxuICAgICAgICAgICAgICAgIGlmKGludGVybmV0TmVlZC5jaGVja2VkICYmICFyZXNlcnZlTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZElucHV0LnZhbHVlICE9IDApaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICBpZighaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKWlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYoaW50ZXJuZXROZWVkLmNoZWNrZWQgJiYgcmVzZXJ2ZU5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWQuY2hlY2tlZCAmJiBzb3VuZE5lZWRJbnB1dC52YWx1ZSAhPSAwKWlzVHJ1ZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYoIWludGVybmV0TmVlZC5jaGVja2VkICYmICFyZXNlcnZlTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZC5jaGVja2VkICYmIHNvdW5kTmVlZElucHV0LnZhbHVlICE9IDApaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnI2hvd2Zhc3QnOlxyXG4gICAgICAgICAgICAgICAgbGV0IGZhc3RIaWdoID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI2Zhc3RfaGlnaCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZhc3RNaWQgPSBjdXJyZW50UGFnZS5xdWVyeVNlbGVjdG9yKCcjZmFzdF9taWRkbGUnKTtcclxuICAgICAgICAgICAgICAgIGxldCBmYXN0TG93ID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI2Zhc3RfbG93Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmFzdE93biA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNmYXN0X293bicpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZhc3RPd25GaWVsZCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNmYXN0X2FyZWEnKTtcclxuICAgICAgICAgICAgICAgIGlmKGZhc3RIaWdoLmNoZWNrZWQgfHwgZmFzdE1pZC5jaGVja2VkIHx8IGZhc3RMb3cuY2hlY2tlZCB8fCAoZmFzdE93bi5jaGVja2VkICYmIGZhc3RPd25GaWVsZC52YWx1ZSAhPScnKSkgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnI3NxdWFyZSc6IFxyXG4gICAgICAgICAgICAgICAgbGV0IHNxdWFyZUlucHV0cyA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlUGVyaW1ldGVyID0gY3VycmVudFBhZ2UucXVlcnlTZWxlY3RvcignI3NxYXJlX19wZXJpbWV0cmFsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlT2JqZWN0TG9uZyA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzcXVhcmUtb2JqZWN0LWxvbmcnKTtcclxuICAgICAgICAgICAgICAgIGxldCBzcXVhcmVPYmplY3RXaWR0aCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzcXVhcmUtb2JqZWN0LXdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlUGVyaW1ldGVyTG9uZyA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzcXVhcmUtcGVyaW1ldGVyLWxvbmcnKTtcclxuICAgICAgICAgICAgICAgIGxldCBzcXVhcmVQZXJpbWV0ZXJXaWR0aCA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3IoJyNzcXVhcmUtcGVyaW1ldGVyLXdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICBpZihzcXVhcmVQZXJpbWV0ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzcXVhcmVfX3BlcmltZXRyYWxfaGlkZGVuJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNxdWFyZU9iamVjdExvbmcudmFsdWUgIT0gMCAmJiBzcXVhcmVPYmplY3RXaWR0aCAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoIXNxdWFyZVBlcmltZXRlci5jbGFzc0xpc3QuY29udGFpbnMoJ3NxdWFyZV9fcGVyaW1ldHJhbF9oaWRkZW4nKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc3F1YXJlT2JqZWN0TG9uZy52YWx1ZSAhPSAwICYmIHNxdWFyZU9iamVjdFdpZHRoICE9IDAgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFyZVBlcmltZXRlckxvbmcudmFsdWUgIT0gMCAmJiBzcXVhcmVQZXJpbWV0ZXJXaWR0aC52YWx1ZSAhPSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY29tcGxlY3RhdGlvbic6XHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGxlY3RhdGlvblJhZGlvcyA9IGN1cnJlbnRQYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wbGVjdGF0aW9uX19pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgY29tcGxlY3RhdGlvblJhZGlvcy5mb3JFYWNoKHJhZGlvID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYWRpby5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUcnVlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpc1RydWU7XHJcbiAgICB9XHJcbiAgICAvL9GA0LDQtNC40L7QutC90L7Qv9C60Lgg0JLQvtC/0YDQvtGBIDFcclxuICAgIC8v0L/RgNC+0LLQtdGA0LrQsCDRgNCw0LTQuNC+0LrQvdC+0L/QvtC6INC90LAgY2hlY2tlZFxyXG4gICAgZnVuY3Rpb24gcmFkaW9DaGVja0FjdGl2ZSgpe1xyXG4gICAgICAgIGxldCByYWRpb0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgaW5wdXRbdHlwZT0ncmFkaW8nXWApO1xyXG4gICAgICAgIHJhZGlvSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYoaXRlbS5jaGVja2VkKXtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdvYmplY3RfX2l0ZW1fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdvYmplY3RfX2l0ZW1fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICAvL9C00L7QsdCw0LLQu9C10L3QuNC1INC40LLQtdC90YLQsCDQv9C+INC40LfQvNC10L3QtdC90LjRjiDRgNCw0LTQuNC+INC90LAgMSDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICBmdW5jdGlvbiByYWRpb09uQ2hhbmdlKCl7XHJcbiAgICAgICAgbGV0IG9iamVjdFJhZGlvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vYmplY3RfX2lucHV0Jyk7XHJcbiAgICAgICAgb2JqZWN0UmFkaW9zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UmFkaW8gPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmFkaW9DaGVja0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRWYWx1ZXMoKTtcclxuICAgICAgICAgICAgICAgIHNob3dDdXJyZW50U3BoZXJlKGN1cnJlbnRSYWRpbyk7XHJcbiAgICAgICAgICAgICAgICBzaG93UGVyaW1ldGVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuICAgIC8v0L/QvtC60LDQt9Cw0YLRjCDQstC+IDIg0LLQvtC/0YDQvtGB0LUg0L3Rg9C20L3Rg9GOINGB0YTQtdGA0YMg0L/RgNC40LzQtdC90LXQvdC40Y8sINGB0LrRgNGL0LIg0L3QtdC90YPQttC90L7QtVxyXG4gICAgZnVuY3Rpb24gc2hvd0N1cnJlbnRTcGhlcmUoaW5wdXQpe1xyXG4gICAgICAgIGxldCBjdXJyZW50U3BoZXJlID0gaW5wdXQuZGF0YXNldC5jaG9pc2U7XHJcbiAgICAgICAgbGV0IGNhbUNvdW50ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbWVyYS1jb3VudF9faXRlbScpO1xyXG4gICAgICAgIGNhbUNvdW50ZXJzLmZvckVhY2goY291bnRlciA9PiB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBjdXJyZW50Q291bnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jYW1lcmEtY291bnRfXyR7Y3VycmVudFNwaGVyZX1gKTtcclxuICAgICAgICBjdXJyZW50Q291bnRlci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgLy/Qv9C+0LrQsNC30LDRgtGMINCyIHNxdWFyZSDQv9C10YDQuNC80LXRgtGA0LDQu9C60LgsINC10YHQu9C4INC30L3QsNGH0LXQvdC40LUg0LjRhSDQsiDQutC+0LvQuNGH0LXRgdGC0LLQtSAhPSAwXHJcbiAgICBmdW5jdGlvbiBzaG93UGVyaW1ldGVyKCl7XHJcbiAgICAgICAgbGV0IGNvdW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW1lcmFjb3VudCcpO1xyXG4gICAgICAgIGxldCBwZXJpbWV0ZXJSYW5nZXMgPSBjb3VudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLnBlcmltZXRlcicpO1xyXG4gICAgICAgIGxldCBzcWFyZVBlcmltZXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzcWFyZV9fcGVyaW1ldHJhbCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBwZXJpbWV0ZXJIYXMgPSAwO1xyXG4gICAgICAgIHBlcmltZXRlclJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgaWYocmFuZ2UudmFsdWUgIT0gMCl7XHJcbiAgICAgICAgICAgICAgICBwZXJpbWV0ZXJIYXMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYocGVyaW1ldGVySGFzICE9IDApe1xyXG5cclxuICAgICAgICAgICAgc3FhcmVQZXJpbWV0ZXIuY2xhc3NMaXN0LnJlbW92ZSgnc3F1YXJlX19wZXJpbWV0cmFsX2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBsZXQgc3FhcmVQZXJpbWV0ZXJSYW5nZXMgPSBzcWFyZVBlcmltZXRlci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBzcWFyZVBlcmltZXRlclJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgICAgIHJhbmdlLnZhbHVlID0gMFxyXG4gICAgICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgc3FhcmVQZXJpbWV0ZXIuY2xhc3NMaXN0LmFkZCgnc3F1YXJlX19wZXJpbWV0cmFsX2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vINC/0L7QstC10YHQuNGC0Ywg0L3QsCByYW5nZSDQv9C10YDQuNC80LXRgtGA0LDQu9C+0Log0LIgY2FtZXJhY291bnQg0YHQvtCx0YvRgtC40LUgc2hvd1BlcmltZXRlciDQvdCwIGlucHV0XHJcbiAgICBmdW5jdGlvbiBhZGRTaG93UGVyaW1ldGVyKCl7XHJcbiAgICAgICAgbGV0IGNvdW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW1lcmFjb3VudCcpO1xyXG4gICAgICAgIGxldCBwZXJpbWV0ZXJSYW5nZXMgPSBjb3VudFBhZ2UucXVlcnlTZWxlY3RvckFsbCgnLnBlcmltZXRlcicpO1xyXG4gICAgICAgIGxldCBzcWFyZVBlcmltZXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzcWFyZV9fcGVyaW1ldHJhbCcpO1xyXG4gICAgICAgIHBlcmltZXRlclJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgcmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzaG93UGVyaW1ldGVyKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy/RgdCx0YDQvtGB0LjRgtGMINGB0YfQtdGC0YfQuNC60LhcclxuICAgIGZ1bmN0aW9uIHJlc2V0VmFsdWVzKCl7XHJcbiAgICAgICAgICAgIC8v0LLQvtC/0YDQvtGBINC+INC60L7Qu9C40YfQtdGB0YLQstC1INGB0YfQtdGC0YfQuNC60Lgg0LrQsNC80LXRgCDRg9Cy0LXRgdGC0Lgg0L3QsCAwXHJcbiAgICAgICAgICAgIGxldCBjYW1Db3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtY291bnQnKTtcclxuICAgICAgICAgICAgbGV0IHJhbmdlc0NhbUNvdW50ID0gY2FtQ291bnQucXVlcnlTZWxlY3RvckFsbCgnLnJhbmdlX19zbGlkZXInKTtcclxuICAgICAgICAgICAgcmFuZ2VzQ2FtQ291bnQuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByYW5nZS52YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICByZWZyZXNoUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy/QvtCx0YrQtdC60YIgLSDRgdCx0YDQvtGBINGA0LDQtNC40L5cclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvY2F0aW9uJyk7XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvblJhZGlvcyA9IGxvY2F0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tcmFkaW8nKTtcclxuICAgICAgICAgICAgbG9jYXRpb25SYWRpb3MuZm9yRWFjaChyYWRpbyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNldFJhZGlvKHJhZGlvKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy/QstC+0L/RgNC+0YEg0L7QsSDQsNGA0YXQuNCy0LUg0YHQsdGA0L7RgdC40YLRjCByYWRpbyBcclxuICAgICAgICAgICAgbGV0IGFyY2hpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJjaGlldmUnKTtcclxuICAgICAgICAgICAgbGV0IHJhZGlvc0FyY2hpZXZlID0gYXJjaGl2ZS5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvJyk7XHJcbiAgICAgICAgICAgIHJhZGlvc0FyY2hpZXZlLmZvckVhY2gocmFkaW8gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzZXRSYWRpbyhyYWRpbyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8v0LLQvtC/0YDQvtGBINC00L7QvyDQvtC/0YbQuNC4INGB0LHRgNC+0YHQuNGC0Ywg0YfQtdC60LHQvtC60YHRiyDQuCByYW5nZSDRgdCx0YDQvtGB0LjRgtGMINC4INGB0LrRgNGL0YLRjFxyXG4gICAgICAgICAgICBsZXQgZG9wcGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvcHBlbCcpO1xyXG4gICAgICAgICAgICBsZXQgY2hlY2tib3hlc0RvcHBlbCA9IGRvcHBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLWNoZWNrJyk7XHJcbiAgICAgICAgICAgIGNoZWNrYm94ZXNEb3BwZWwuZm9yRWFjaChjaGVja2JveCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNldENoZWNrQm94KGNoZWNrYm94KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IHJhbmdlRG9wcGVsID0gZG9wcGVsLnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkX3JhbmdlJyk7XHJcbiAgICAgICAgICAgIHJhbmdlRG9wcGVsLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHJhbmdlRG9wcGVsKTtcclxuICAgICAgICAgICAgY2hlY2tOZWVkU291bmQoKTtcclxuICAgICAgICAgICAgLy/QstC+0L/RgNC+0YEgaG93RmFzdCDRgdCx0YDQvtGB0LjRgtGMINGA0LDQtNC40L5cclxuICAgICAgICAgICAgbGV0IGZhc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFzdCcpO1xyXG4gICAgICAgICAgICBsZXQgcmFkaW9zRmFzdCA9IGZhc3QucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1yYWRpbycpO1xyXG4gICAgICAgICAgICByYWRpb3NGYXN0LmZvckVhY2gocmFkaW8gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzZXRSYWRpbyhyYWRpbyk7XHJcbiAgICAgICAgICAgICAgICBoYXNPd25BbnN3ZXIoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy/QstC+0L/RgNC+0YEgc3F1YXJlINGB0LHRgNC+0YHQuNGC0YwgcmFuZ2VcclxuICAgICAgICAgICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzcXVhcmUnKTtcclxuICAgICAgICAgICAgbGV0IHNxdWFyZVJhbmdlcyA9IHNxdWFyZS5xdWVyeVNlbGVjdG9yQWxsKCcucmFuZ2Utc2xpZGVyJyk7XHJcbiAgICAgICAgICAgIHNxdWFyZVJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHJhbmdlLnZhbHVlID0gMCk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICAvL9C00L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60LAg0L3QsCDRgdC70LDQudC00LXRgFxyXG4gICAgZnVuY3Rpb24gZnVuY1NsaWRlcnMoKXtcclxuICAgICAgICBsZXQgc2xpZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYW5nZV9fc2xpZGVyJyk7XHJcbiAgICAgICAgc2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiB7XHJcbiAgICAgICAgICAgIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZWZyZXNoUmFuZ2UodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBjaGVja0J1dHRvbigpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8v0YHQsdGA0L7RgSDRgNCw0LTQuNC+XHJcbiAgICBmdW5jdGlvbiByZXNldFJhZGlvKGVsZW0pe1xyXG4gICAgICAgIGVsZW0uY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy9yZXNldCBjaGVja2JveFxyXG4gICAgZnVuY3Rpb24gcmVzZXRDaGVja0JveChlbGVtKXtcclxuICAgICAgICBlbGVtLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8v0L7QsdC90L7QstC40YLRjCDQv9C+0LvQt9GD0L3QvtC6XHJcbiAgICBmdW5jdGlvbiByZWZyZXNoUmFuZ2UoY3VycmVudCl7XHJcbiAgICAgICAgY3VycmVudC5uZXh0U2libGluZy5pbm5lckhUTUwgPSBjdXJyZW50LnZhbHVlO1xyXG4gICAgICAgIGxldCBwZXJjZW50VmFsdWUgPSAoY3VycmVudC52YWx1ZS9jdXJyZW50Lm1heCkqMTAwO1xyXG4gICAgICAgIGxldCBjb2xvciA9IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMyw4MSwxNDUsMSkgJHtwZXJjZW50VmFsdWV9JSwgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjE3OCkgJHtwZXJjZW50VmFsdWV9JSlgXHJcbiAgICAgICAgY3VycmVudC5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XHJcbiAgICB9XHJcbiAgICAvL9CS0L7Qv9GA0L7RgSA0INC90YPQttC10L0g0LfQstGD0LpcclxuICAgIGZ1bmN0aW9uIG5lZWRTb3VuZEV2ZW50KCl7XHJcbiAgICAgICAgbGV0IHJlY29yZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdW5kX25lZWQnKTtcclxuICAgICAgICByZWNvcmRDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGVja05lZWRTb3VuZClcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoZWNrTmVlZFNvdW5kKCl7XHJcbiAgICAgICAgbGV0IHJlY29yZENoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdW5kX25lZWQnKTtcclxuICAgICAgICBsZXQgdG9nZ2xlUmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG9wcGVsX19zb3VuZHJlY29yZCcpO1xyXG4gICAgICAgIGxldCBzb3VuZE5lZWRSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VuZF9uZWVkX3JhbmdlJyk7XHJcbiAgICAgICAgaWYocmVjb3JkQ2hlY2tib3guY2hlY2tlZCl7XHJcbiAgICAgICAgICAgIHRvZ2dsZVJhbmdlLmNsYXNzTGlzdC5yZW1vdmUoJ2RvcHBlbF9fc291bmRyZWNvcmRfaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRvZ2dsZVJhbmdlLmNsYXNzTGlzdC5hZGQoJ2RvcHBlbF9fc291bmRyZWNvcmRfaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHNvdW5kTmVlZFJhbmdlLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgcmVmcmVzaFJhbmdlKHNvdW5kTmVlZFJhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL9CS0L7Qv9GA0L7RgTUg0YHQstC+0Lkg0LLQsNGA0LjQsNC90YIg0L7RgtCy0LXRgtCwXHJcbiAgICAgICAgLy/Qv9GA0L7QstC10YDQuNGC0Ywg0YfQtdC6INGDINGA0LDQtNC40L4g0YHQstC+0Lkg0LLQsNGA0LjQsNC90YIsINC10YHQu9C4INC00LAsINGC0L4g0YPQtNCw0LvQuNGC0Ywg0LrQu9Cw0YHRgSDRgdC60YDRi9GC0LjRjywg0LXRgdC70Lgg0L3QtdGCIC0g0LTQvtCx0LDQstC40YLRjFxyXG4gICAgZnVuY3Rpb24gaGFzT3duQW5zd2VyKCl7XHJcbiAgICAgICAgbGV0IG93bkFuc3dlckFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFzdF9fb3duYW5zd2VyJyk7XHJcbiAgICAgICAgbGV0IGhhc093biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmYXN0X293bicpO1xyXG4gICAgICAgIGlmKGhhc093bi5jaGVja2VkKXtcclxuICAgICAgICAgICAgb3duQW5zd2VyQXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdmYXN0X19vd25hbnN3ZXJfaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIG93bkFuc3dlckFyZWEuY2xhc3NMaXN0LmFkZCgnZmFzdF9fb3duYW5zd2VyX2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v0L3QsNCy0LXRgdC40YLRjCDRjdGC0YMg0YTRg9C90LrRhtC40Y4g0L3QsCDQuNC30LzQtdC90LXQvdC40LUg0LLRgdC10YUg0Ycv0LEg0LIg0LPRgNGD0L/Qv9C1XHJcbiAgICBmdW5jdGlvbiBmYXN0TGV2ZWxDaGFuZ2UoKXtcclxuICAgICAgICBsZXQgcmFkaW9JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5mYXN0X19pbnB1dGApO1xyXG4gICAgICAgIHJhZGlvSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYXNPd25BbnN3ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy/QvtCx0YnQuNC5INC40LLQtdC90YIg0L3QsCDQstGB0LUg0LjQvdC/0YPRgtGLINCy0L7Qv9GA0L7RgdC+0LIgY2hlY2tCdXR0b24oKSAtINC/0YDQvtCy0LXRgNC40YLRjCwgXHJcbiAgICAvL9C10YHRgtGMINC70Lgg0LLRi9Cx0YDQsNC90L3Ri9C1INC4INCy0LLQtdC00LXQvdC90YvQtSDQt9C90LDRh9C10L3QuNGPINC4INC10YHQu9C4INC10YHRgtGMLFxyXG4gICAgLy/QuCDQtdGB0LvQuCDQtdGB0YLRjCAtINGA0LDQt9Cx0LvQvtC60LjRgNC+0LLQsNGC0Ywg0LrQvdC+0L/QutGDXHJcbiAgICAvL9C40YnQtdC8INGH0LXRgNC10Lcg0YDQvtC00LjRgtC10LvRjyAucXVpel9fcXVlc3Rpb24tYm9keSwg0YfRgtC+0LEg0L3QtSDQt9Cw0YbQtdC/0LjRgtGMINGB0YLRgNCw0L3QuNGG0YMg0YEg0YTQvtGA0LzQvtC5XHJcbiAgICBmdW5jdGlvbiBhZGRFdmVudE9uQWxsSW5wdXRzKCl7XHJcbiAgICAgICAgbGV0IHF1aXpCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aXpfX3F1ZXN0aW9uLWJvZHkgJyk7XHJcbiAgICAgICAgbGV0IGFsbFJhZGlvcyA9IHF1aXpCb2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xyXG4gICAgICAgIGFsbFJhZGlvcy5mb3JFYWNoKGl0ZW0gPT4ge2l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gY2hlY2tCdXR0b24oKSl9KTtcclxuICAgICAgICBsZXQgYWxsUmFuZ2VzID0gcXVpekJvZHkucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhbmdlXCJdJyk7XHJcbiAgICAgICAgYWxsUmFuZ2VzLmZvckVhY2goaXRlbSA9PiB7aXRlbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IGNoZWNrQnV0dG9uKCkpfSk7XHJcbiAgICAgICAgbGV0IGFsbENoZWNrYm94ZXMgPSBxdWl6Qm9keS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxuICAgICAgICBhbGxDaGVja2JveGVzLmZvckVhY2goaXRlbSA9PiB7aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBjaGVja0J1dHRvbigpKX0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiJdLCJmaWxlIjoiaW5kZXgtbWluLmpzIn0=
